{"version":3,"sources":["webpack:///src/photo-swipe/photo-swipe.vue","webpack:///./src/photo-swipe/photo-swipe.vue?5ae5","webpack:///src/components/Index.vue","webpack:///./src/photo-swipe/photo-swipe.vue","webpack:///./src/components/Index.vue?3f63","webpack:///./src/components/Index.vue","webpack:///./src/router/index.js","webpack:///./src/photo-swipe/photoswipe.js","webpack:///./src/photo-swipe/photoswipe-ui-default.js","webpack:///./src/photo-swipe/index.js","webpack:///./src/App.vue?75c5","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///./src/main.js"],"names":["photo_swipe","update","Array","Object","data","width","height","item","items","$pwsp","close","_this","this","options","index","Image","src","init","pswp","photo_swipe_photo_swipe","render","_h","$createElement","_c","_self","ref","staticClass","attrs","tabindex","role","aria-hidden","_v","_m","staticRenderFns","_vm","title","Index","PhotoSwipe","__webpack_require__","normalizeComponent","components_Index","src_components_Index","Index_normalizeComponent","vue_esm","use","vue_router_esm","router","routes","path","name","component","photo_swipe_photoswipe","template","UiClass","framework","features","bind","target","type","listener","unbind","methodName","split","i","length","isArray","obj","createEl","classes","tag","el","document","createElement","className","getScrollY","yOffset","window","pageYOffset","undefined","documentElement","scrollTop","removeClass","reg","RegExp","replace","addClass","hasClass","test","getChildByClass","parentEl","childClassName","node","firstChild","nextSibling","arraySearch","array","value","key","extend","o1","o2","preventOverwrite","prop","hasOwnProperty","easing","sine","out","k","Math","sin","PI","inOut","cos","cubic","detectFeatures","helperStyle","style","vendor","oldIE","all","addEventListener","touch","requestAnimationFrame","raf","caf","cancelAnimationFrame","pointerEvent","navigator","pointerEnabled","msPointerEnabled","ua","userAgent","platform","v","appVersion","match","parseInt","isOldIOSPhone","androidversion","parseFloat","isOldAndroid","androidVersion","isMobileOpera","styleCheckItem","styleName","styleChecks","vendors","a","charAt","toUpperCase","slice","toLowerCase","lastTime","fn","currTime","Date","getTime","timeToCall","max","id","setTimeout","clearTimeout","svg","createElementNS","createSVGRect","evName","_handleEv","handleEvent","call","typeof_default","self","_options","allowPanToNext","spacing","bgOpacity","mouseUsed","loop","pinchToClose","closeOnScroll","closeOnVerticalDrag","verticalDragRange","hideAnimationDuration","showAnimationDuration","showHideOpacity","focus","escKey","arrowKeys","mainScrollEndFriction","panEndFriction","isClickableElement","tagName","getDoubleTapZoom","isMouseClick","initialZoomLevel","maxSpreadZoom","modal","scaleMode","_isOpen","_isDestroying","_closedByScroll","_currentItemIndex","_containerStyle","_containerShiftIndex","_upMoveEvents","_downEvents","_globalEventHandlers","_currZoomLevel","_startZoomLevel","_translatePrefix","_translateSufix","_updateSizeInterval","_itemsNeedUpdate","_itemHolders","_prevItemIndex","_dragStartEvent","_dragMoveEvent","_dragEndEvent","_dragCancelEvent","_transformKey","_pointerEventEnabled","_likelyTouchDevice","_requestAF","_cancelAF","_initalClassName","_initalWindowScrollY","_oldIE","_currentWindowScrollY","_features","_orientationChangeTimeout","_gestureStartTime","_gestureCheckSpeedTime","_releaseAnimData","_isZoomingIn","_verticalDragInitiated","_oldAndroidTouchEndTimeout","_isDragging","_isMultitouch","_zoomStarted","_moved","_dragAnimFrame","_mainScrollShifted","_currentPoints","_isZooming","_startPointsDistance","_currPanBounds","_currZoomElementStyle","_mainScrollAnimating","_direction","_isFirstMove","_opacityChanged","_bgOpacity","_wasOverInitialZoom","_tempCounter","_currPanDist","x","y","_startPanOffset","_panOffset","_viewportSize","_currPositionIndex","_offset","_slideSize","_indexDiff","_isFixedPosition","_modules","_windowVisibleSize","_renderMaxResolution","_registerModule","module","publicMethods","push","_getLoopedId","numSlides","_getNumItems","_listeners","_listen","_shout","listeners","args","prototype","arguments","shift","apply","_getCurrentTime","_applyBgOpacity","opacity","bg","_applyZoomTransform","styleObj","zoom","currItem","fitRatio","_applyCurrentZoomPan","allowRenderResolution","_setImageSize","_applyZoomPanToItem","container","initialPosition","_setTranslateX","elStyle","_moveMainScroll","dragging","newSlideIndexOffset","delta","round","_mainScrollPos","_calculatePanOffset","axis","zoomLevel","m","_midZoomPoint","_equalizePoints","p1","p2","_roundPoint","p","_mouseMoveTimeout","_onFirstMouseMove","_calculatePanBounds","bounds","_calculateItemSize","_getMinZoomLevel","_getMaxZoomLevel","w","_modifyDestPanOffset","destPanBounds","destPanOffset","destZoomLevel","min","_onKeyDown","e","keydownAction","keyCode","ctrlKey","altKey","shiftKey","metaKey","preventDefault","returnValue","_onGlobalClick","stopPropagation","_updatePageScrollOffset","setScrollOffset","_animations","_numAnimations","_stopAnimation","_registerStartAnimation","_stopAllAnimations","_animateProp","b","endProp","d","easingFn","onUpdate","onComplete","t","startAnimTime","animloop","shout","listen","viewportSize","isMainScrollAnimating","getZoomLevel","getCurrentIndex","isDragging","isZooming","applyZoomPan","panX","panY","transform","scrollWrap","itemHolders","children","wrap","display","allow3dTransform","perspective","left","zoomRatio","s","h","top","_setupTransforms","resize","updateSize","orientationchange","clientWidth","scroll","keydown","click","oldPhone","animationName","ui","isNaN","_getItemAt","setAttribute","position","rootClasses","mainClass","setContent","updateCurrItem","setInterval","_showOrHide","destroy","_showOrHideTimeout","clearInterval","_stopDragUpdateLoop","panTo","force","event","goTo","diff","next","prev","updateCurrZoomItem","emulateSetContent","zoomElement","center","invalidateCurrItems","needsUpdate","beforeAnimation","tempHolder","diffAbs","abs","NUM_HOLDERS","pop","unshift","prevItem","windowScrollY","innerWidth","innerHeight","clientHeight","holder","hIndex","cleanSlide","zoomTo","centerPoint","speed","updateFn","initialPanOffset","now","_currPoint","_startPoint","_currPointers","_startMainScrollPos","_posPoints","_tempPoint","_currZoomedItemIndex","_centerPoint","_lastReleaseTime","_currCenterPoint","_calculatePointsDistance","sqrt","_preventObj","_preventDefaultEventBehaviour","isDown","prevent","_closestElement","getAttribute","indexOf","parentNode","_convertTouchToPoint","pageX","pageY","identifier","_findCenterOfPoints","pCenter","_calculateVerticalDragOpacityRatio","_ePoint1","_ePoint2","_tempPointsArr","_getTouchPoints","forEach","touches","_panOrMoveMainScroll","panFriction","startOverDiff","newPanPos","newMainScrollPos","newOffset","dir","newMainScrollPosition","mainScrollDiff","_onDragStart","button","_initialZoomRunning","pointerIndex","pointerId","startPointsList","numPoints","_dragUpdateLoop","_renderMovement","_onDragMove","touchesList","_isEqualPoints","pointsDistance","_calculateZoomLevel","zoomFriction","minZoomLevel","maxZoomLevel","percent","opacityRatio","time","o","_pushPosPoint","_onDragRelease","releasePoint","splice","pointerType","4","2","3","gestureType","touchList","changedTouches","releaseTimeDiff","_initDragReleaseAnimationData","calculateSwipeSpeed","initalPanY","initialBgOpacity","_finishSwipeMainScrollGesture","_completePanGesture","_completeZoomGesture","lastFlickDuration","tempReleasePos","lastFlickOffset","lastFlickDist","lastFlickSpeed","slowDownRatio","slowDownRatioReverse","speedDecelerationRatio","speedDecelerationRatioAbs","distanceOffset","backAnimDestination","backAnimStarted","calculateOverBoundsAnimOffset","pos","calculateAnimOffset","timeDiff","panAnimLoop","zoomPan","lastNow","animData","itemChanged","itemsDiff","nextCircle","totalShiftDist","isFastLastFlick","finishAnimDuration","animateToX","animateToDist","touchesDistance","initialOpacity","initGestures","addEventNames","pref","down","move","up","cancel","maxTouchPoints","msMaxTouchPoints","likelyTouchDevice","mousedown","mousemove","mouseup","_items","_initialContentSet","img","completeFn","thumbBounds","initialLayout","getThumbBoundsFn","closeWithRaf","fadeEverything","duration","removeAttribute","loadError","miniImg","webkitBackfaceVisibility","initalBgOpacity","_tempPanAreaSize","_imagesToAppendPool","_controllerDefaultOptions","errorMsg","forceProgressiveLoading","preload","getNumItemsFn","isInitial","vGap","bottom","hRatio","vRatio","realPanElementW","realPanElementH","_calculateSingleItemPanBounds","_appendImage","baseDiv","preventAnimation","keepPlaceholder","imageAppended","appendChild","loaded","placeholder","_preloadImage","loading","loadComplete","onload","onerror","_checkForError","cleanUp","innerHTML","maxRes","lastChild","_appendImagesPool","poolItem","clearPlaceholder","lazyLoadItem","initController","getItemAt","isNext","preloadBefore","preloadAfter","preloader","allowProgressiveImg","screen","html","placeholderClassName","msrc","tapTimer","_wheelDelta","tapReleasePoint","_dispatchTapEvent","origEvent","createEvent","eDetail","initCustomEvent","dispatchEvent","initTap","onTapStart","onTapRelease","touch0","touch1","p0","initDesktopZoom","setupDesktopZoom","onInit","events","handleMouseWheel","mouseZoomedIn","hasDraggingClass","updateZoomable","removeDraggingClass","deltaY","deltaMode","deltaX","wheelDeltaX","wheelDeltaY","wheelDelta","detail","newPanX","newPanY","toggleDesktopZoom","doubleTapZoomLevel","zoomOut","_historyUpdateTimeout","_hashChangeTimeout","_hashAnimCheckTimeout","_hashChangedByScript","_hashChangedByHistory","_hashReseted","_initialHash","_historyChanged","_closedFromURL","_urlChangedOnce","_windowLoc","_supportsPushState","_historyDefaultOptions","history","galleryUID","_getHash","hash","substring","_cleanHistoryTimeouts","_parseItemIndexFromURL","params","vars","pair","galleryPIDs","searchfor","pid","_updateHash","newHash","newURL","href","location","initHistory","updateURL","onHashChange","returnToOriginal","back","pushState","pathname","search","photoswipe_ui_default","_fullscrenAPI","_controls","_captionContainer","_fakeCaptionContainer","_indexIndicator","_shareButton","_shareModal","_initalCloseOnScrollValue","_isIdle","_loadingIndicator","_loadingIndicatorHidden","_loadingIndicatorTimeout","_galleryHasOneSlide","_blockControlsTap","_idleInterval","_idleTimer","_overlayUIUpdated","_controlsVisible","_shareModalHidden","_defaultUIOptions","barsSize","closeElClasses","timeToIdle","timeToIdleOutside","loadingIndicatorDelay","addCaptionHTMLFn","captionEl","closeEl","fullscreenEl","zoomEl","shareEl","counterEl","arrowEl","preloaderEl","tapToClose","tapToToggleControls","clickToCloseNonZoomable","shareButtons","label","url","download","getImageURLForShare","getPageURLForShare","getTextForShare","indexIndicatorSep","fitControlsWidth","_onControlsTap","_onIdleMouseMove","uiElement","found","clickedClass","srcElement","_uiElements","onTap","tapDelay","_togglePswpClass","cName","add","_countNumItems","hasOneSlide","_toggleShareModalClass","_toggleShareModal","_updateShareURLs","_openWindowPopup","hasAttribute","open","shareButtonData","image_url","page_url","share_text","shareButtonOut","encodeURIComponent","parseShareButtonOut","onclick","_hasCloseClass","_idleIncrement","setIdle","_onMouseLeaveWindow","from","relatedTarget","toElement","nodeName","_toggleLoadingIndicator","hide","_applyNavBarGaps","gap","bars","insertBefore","captionSize","option","isFullscreen","exit","enter","pinchControlsHidden","hideControls","showControls","point","preventObj","onGlobalTap","onMouseOver","eventK","updateFullscreen","removeChild","classAttr","loopThroughChildElements","sChildren","l","topBar","_setupUIElements","getFullscreenAPI","naturalWidth","isIdle","updateIndexIndicator","supportsFullscreen","exitFullscreen","mozCancelFullScreen","webkitExitFullscreen","msExitFullscreen","api","dE","tF","requestFullscreen","enterK","exitK","elementK","mozRequestFullScreen","webkitRequestFullscreen","msRequestFullscreen","Element","ALLOW_KEYBOARD_INPUT","assign_default","defineProperty","varArgs","TypeError","to","nextSource","nextKey","writable","configurable","src_photo_swipe","install","Vue","UI","OPTIONS","$PhotoSwipe","selectortype_template_index_0_src_App","src_App","App_normalizeComponent","ssrContext","config","productionTip","components","App"],"mappings":"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","file":"static/js/app.e1a0abe962dd645bb3c1.js","sourcesContent":["<template>\n  <!-- Root element of PhotoSwipe. Must have class pswp. -->\n  <div class=\"pswp\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\" ref=\"el\">\n\n    <!-- Background of PhotoSwipe.\n         It's a separate element as animating opacity is faster than rgba(). -->\n    <div class=\"pswp__bg\"></div>\n\n    <!-- Slides wrapper with overflow:hidden. -->\n    <div class=\"pswp__scroll-wrap\">\n\n      <!-- Container that holds slides.\n          PhotoSwipe keeps only 3 of them in the DOM to save memory.\n          Don't modify these 3 pswp__item elements, data is added later on. -->\n      <div class=\"pswp__container\">\n        <div class=\"pswp__item\"></div>\n        <div class=\"pswp__item\"></div>\n        <div class=\"pswp__item\"></div>\n      </div>\n\n      <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->\n      <div class=\"pswp__ui pswp__ui--hidden\">\n\n        <div class=\"pswp__top-bar\">\n\n          <!--  Controls are self-explanatory. Order can be changed. -->\n\n          <div class=\"pswp__counter\"></div>\n\n          <!--<button class=\"pswp__button pswp__button&#45;&#45;close\" title=\"Close (Esc)\"></button>\n\n          <button class=\"pswp__button pswp__button&#45;&#45;share\" title=\"Share\"></button>\n\n          <button class=\"pswp__button pswp__button&#45;&#45;fs\" title=\"Toggle fullscreen\"></button>\n\n          <button class=\"pswp__button pswp__button&#45;&#45;zoom\" title=\"Zoom in/out\"></button>-->\n\n          <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->\n          <!-- element will get class pswp__preloader--active when preloader is running -->\n          <div class=\"pswp__preloader\">\n            <div class=\"pswp__preloader__icn\">\n              <div class=\"pswp__preloader__cut\">\n                <div class=\"pswp__preloader__donut\"></div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"pswp__share-modal pswp__share-modal--hidden pswp__single-tap\">\n          <div class=\"pswp__share-tooltip\"></div>\n        </div>\n\n        <button class=\"pswp__button pswp__button--arrow--left\" title=\"Previous (arrow left)\">\n        </button>\n\n        <button class=\"pswp__button pswp__button--arrow--right\" title=\"Next (arrow right)\">\n        </button>\n\n        <div class=\"pswp__caption\">\n          <div class=\"pswp__caption__center\"></div>\n        </div>\n\n      </div>\n\n    </div>\n\n  </div>\n\n</template>\n\n<script>\n\n  function wrapItem(data) {\n    const item = Object.assign({},data);\n    if(data.autoSize || data.loader){\n      item.w = 0;\n      item.h = 0;\n    }else{\n      item.w = data.width;\n      item.h = data.height;\n    }\n    return item;\n  }\n\n  export default {\n    name : \"photo-swipe\",\n    mounted(){\n      this.update();\n    },\n    updated(){\n      this.update();\n    },\n    props:{\n      data : Array,\n      options : Object,\n    },\n    data(){\n      return {\n      }\n    },\n    computed:{\n      items(){\n        if(!this.data){\n          return [];\n        }\n        const items = [];\n        this.data.forEach(data=>{\n          items.push(wrapItem(data));\n        });\n        return items;\n      },\n      pwsp(){\n        return this.$refs.el.$pwsp;\n      }\n    },\n    destroyed(){\n      this.$refs.el.$pwsp.close();\n    },\n    methods:{\n      update(){\n        if(this.$refs.el.$pwsp){\n          this.$refs.el.$pwsp.close();\n        }\n        const options = Object.assign({},this.$PhotoSwipe.OPTIONS,this.options);\n        const pswp = new this.$PhotoSwipe(this.$refs.el,this.$PhotoSwipe.UI,this.items,options);\n        pswp.listen(\"gettingData\",(index,item)=>{\n          const data = this.data[index];\n          if(data.autoSize && item.w < 1 && item.h < 1){\n            var img = new Image();\n            img.onload = function() { // will get size after load\n              item.w = img.width; // set image width\n              item.h = img.height; // set image height\n              pswp.invalidateCurrItems(); // reinit Items\n              pswp.updateSize(true); // reinit Items\n            };\n            img.src = data.src;\n          }\n          if(data.loader && item.w < 1 && item.h < 1){\n            item.src = null;\n            data.loader((src,width,height)=>{\n              if(width && height){\n                item.src = src;\n                item.w= width;\n                item.h = height;\n                pswp.invalidateCurrItems(); // reinit Items\n                pswp.updateSize(true); // reinit Items\n              }else{\n                const img = new Image();\n                img.onload = function() { // will get size after load\n                  item.src = src;\n                  item.w = img.width; // set image width\n                  item.h = img.height; // set image height\n                  pswp.invalidateCurrItems(); // reinit Items\n                  pswp.updateSize(true); // reinit Items\n                };\n                img.src= src;\n              }\n            });\n          }\n        });\n        pswp.init();\n        this.$refs.el.$pwsp = pswp;\n      }\n    },\n    watch:{\n      data(){\n        this.update();\n      }\n    }\n  }\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/photo-swipe/photo-swipe.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"el\",staticClass:\"pswp\",attrs:{\"tabindex\":\"-1\",\"role\":\"dialog\",\"aria-hidden\":\"true\"}},[_c('div',{staticClass:\"pswp__bg\"}),_vm._v(\" \"),_vm._m(0)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pswp__scroll-wrap\"},[_c('div',{staticClass:\"pswp__container\"},[_c('div',{staticClass:\"pswp__item\"}),_vm._v(\" \"),_c('div',{staticClass:\"pswp__item\"}),_vm._v(\" \"),_c('div',{staticClass:\"pswp__item\"})]),_vm._v(\" \"),_c('div',{staticClass:\"pswp__ui pswp__ui--hidden\"},[_c('div',{staticClass:\"pswp__top-bar\"},[_c('div',{staticClass:\"pswp__counter\"}),_vm._v(\" \"),_c('div',{staticClass:\"pswp__preloader\"},[_c('div',{staticClass:\"pswp__preloader__icn\"},[_c('div',{staticClass:\"pswp__preloader__cut\"},[_c('div',{staticClass:\"pswp__preloader__donut\"})])])])]),_vm._v(\" \"),_c('div',{staticClass:\"pswp__share-modal pswp__share-modal--hidden pswp__single-tap\"},[_c('div',{staticClass:\"pswp__share-tooltip\"})]),_vm._v(\" \"),_c('button',{staticClass:\"pswp__button pswp__button--arrow--left\",attrs:{\"title\":\"Previous (arrow left)\"}}),_vm._v(\" \"),_c('button',{staticClass:\"pswp__button pswp__button--arrow--right\",attrs:{\"title\":\"Next (arrow right)\"}}),_vm._v(\" \"),_c('div',{staticClass:\"pswp__caption\"},[_c('div',{staticClass:\"pswp__caption__center\"})])])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-52c9e69a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/photo-swipe/photo-swipe.vue\n// module id = null\n// module chunks = ","<template>\n  <photo-swipe :data=\"data\"></photo-swipe>\n</template>\n<script>\n  import PhotoSwipe from \"../photo-swipe/photo-swipe.vue\";\n  export default {\n    components: {PhotoSwipe},\n    name: 'Index',\n    data(){\n      return {\n        data : [\n          {\n            //指定图片的宽度、高度\n            src : \"http://old.bz55.com/uploads/allimg/140717/1-140GF94201.jpg\",\n            width : 1920,\n            height : 1080\n          },\n          {\n            //自动计算图片的宽度、高度\n            src : \"http://old.bz55.com/uploads/allimg/140717/1-140GF94200.jpg\",\n            autoSize : true\n          },\n          {\n            loader(callback){\n              //异步加载图片，指定宽度，高度\n              setTimeout(()=>{\n                callback(\"http://old.bz55.com/uploads/allimg/140717/1-140GF94203-50.jpg\",1920,1080);\n              },2000);\n            }\n          },\n          {\n            loader(callbcak){\n              //异步加载图片，自动计算图片的宽度、高度\n              setTimeout(()=>{\n                callback(\"http://old.bz55.com/uploads/allimg/140717/1-140GF94204.jpg\");\n              },2000);\n            }\n          }\n        ]\n      }\n    }\n  }\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Index.vue","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./photo-swipe.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./photo-swipe.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-52c9e69a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./photo-swipe.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/photo-swipe/photo-swipe.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('photo-swipe',{attrs:{\"data\":_vm.data}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2e5a773a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Index.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2e5a773a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Index.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport Router from 'vue-router'\nimport Index from './../components/Index.vue';\n\nVue.use(Router);\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      name: 'Index',\n      component: Index\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","'use strict';\nvar PhotoSwipe = function(template, UiClass, items, options){\n\n  /*>>framework-bridge*/\n  /**\n   *\n   * Set of generic functions used by gallery.\n   *\n   * You're free to modify anything here as long as functionality is kept.\n   *\n   */\n  var framework = {\n    features: null,\n    bind: function(target, type, listener, unbind) {\n      var methodName = (unbind ? 'remove' : 'add') + 'EventListener';\n      type = type.split(' ');\n      for(var i = 0; i < type.length; i++) {\n        if(type[i]) {\n          target[methodName]( type[i], listener, false);\n        }\n      }\n    },\n    isArray: function(obj) {\n      return (obj instanceof Array);\n    },\n    createEl: function(classes, tag) {\n      var el = document.createElement(tag || 'div');\n      if(classes) {\n        el.className = classes;\n      }\n      return el;\n    },\n    getScrollY: function() {\n      var yOffset = window.pageYOffset;\n      return yOffset !== undefined ? yOffset : document.documentElement.scrollTop;\n    },\n    unbind: function(target, type, listener) {\n      framework.bind(target,type,listener,true);\n    },\n    removeClass: function(el, className) {\n      var reg = new RegExp('(\\\\s|^)' + className + '(\\\\s|$)');\n      el.className = el.className.replace(reg, ' ').replace(/^\\s\\s*/, '').replace(/\\s\\s*$/, '');\n    },\n    addClass: function(el, className) {\n      if( !framework.hasClass(el,className) ) {\n        el.className += (el.className ? ' ' : '') + className;\n      }\n    },\n    hasClass: function(el, className) {\n      return el.className && new RegExp('(^|\\\\s)' + className + '(\\\\s|$)').test(el.className);\n    },\n    getChildByClass: function(parentEl, childClassName) {\n      var node = parentEl.firstChild;\n      while(node) {\n        if( framework.hasClass(node, childClassName) ) {\n          return node;\n        }\n        node = node.nextSibling;\n      }\n    },\n    arraySearch: function(array, value, key) {\n      var i = array.length;\n      while(i--) {\n        if(array[i][key] === value) {\n          return i;\n        }\n      }\n      return -1;\n    },\n    extend: function(o1, o2, preventOverwrite) {\n      for (var prop in o2) {\n        if (o2.hasOwnProperty(prop)) {\n          if(preventOverwrite && o1.hasOwnProperty(prop)) {\n            continue;\n          }\n          o1[prop] = o2[prop];\n        }\n      }\n    },\n    easing: {\n      sine: {\n        out: function(k) {\n          return Math.sin(k * (Math.PI / 2));\n        },\n        inOut: function(k) {\n          return - (Math.cos(Math.PI * k) - 1) / 2;\n        }\n      },\n      cubic: {\n        out: function(k) {\n          return --k * k * k + 1;\n        }\n      }\n      /*\n              elastic: {\n                  out: function ( k ) {\n\n                      var s, a = 0.1, p = 0.4;\n                      if ( k === 0 ) return 0;\n                      if ( k === 1 ) return 1;\n                      if ( !a || a < 1 ) { a = 1; s = p / 4; }\n                      else s = p * Math.asin( 1 / a ) / ( 2 * Math.PI );\n                      return ( a * Math.pow( 2, - 10 * k) * Math.sin( ( k - s ) * ( 2 * Math.PI ) / p ) + 1 );\n\n                  },\n              },\n              back: {\n                  out: function ( k ) {\n                      var s = 1.70158;\n                      return --k * k * ( ( s + 1 ) * k + s ) + 1;\n                  }\n              }\n          */\n    },\n\n    /**\n     *\n     * @return {object}\n     *\n     * {\n\t *  raf : request animation frame function\n\t *  caf : cancel animation frame function\n\t *  transfrom : transform property key (with vendor), or null if not supported\n\t *  oldIE : IE8 or below\n\t * }\n     *\n     */\n    detectFeatures: function() {\n      if(framework.features) {\n        return framework.features;\n      }\n      var helperEl = framework.createEl(),\n        helperStyle = helperEl.style,\n        vendor = '',\n        features = {};\n\n      // IE8 and below\n      features.oldIE = document.all && !document.addEventListener;\n\n      features.touch = 'ontouchstart' in window;\n\n      if(window.requestAnimationFrame) {\n        features.raf = window.requestAnimationFrame;\n        features.caf = window.cancelAnimationFrame;\n      }\n\n      features.pointerEvent = navigator.pointerEnabled || navigator.msPointerEnabled;\n\n      // fix false-positive detection of old Android in new IE\n      // (IE11 ua string contains \"Android 4.0\")\n\n      if(!features.pointerEvent) {\n\n        var ua = navigator.userAgent;\n\n        // Detect if device is iPhone or iPod and if it's older than iOS 8\n        // http://stackoverflow.com/a/14223920\n        //\n        // This detection is made because of buggy top/bottom toolbars\n        // that don't trigger window.resize event.\n        // For more info refer to _isFixedPosition variable in core.js\n\n        if (/iP(hone|od)/.test(navigator.platform)) {\n          var v = (navigator.appVersion).match(/OS (\\d+)_(\\d+)_?(\\d+)?/);\n          if(v && v.length > 0) {\n            v = parseInt(v[1], 10);\n            if(v >= 1 && v < 8 ) {\n              features.isOldIOSPhone = true;\n            }\n          }\n        }\n\n        // Detect old Android (before KitKat)\n        // due to bugs related to position:fixed\n        // http://stackoverflow.com/questions/7184573/pick-up-the-android-version-in-the-browser-by-javascript\n\n        var match = ua.match(/Android\\s([0-9\\.]*)/);\n        var androidversion =  match ? match[1] : 0;\n        androidversion = parseFloat(androidversion);\n        if(androidversion >= 1 ) {\n          if(androidversion < 4.4) {\n            features.isOldAndroid = true; // for fixed position bug & performance\n          }\n          features.androidVersion = androidversion; // for touchend bug\n        }\n        features.isMobileOpera = /opera mini|opera mobi/i.test(ua);\n\n        // p.s. yes, yes, UA sniffing is bad, propose your solution for above bugs.\n      }\n\n      var styleChecks = ['transform', 'perspective', 'animationName'],\n        vendors = ['', 'webkit','Moz','ms','O'],\n        styleCheckItem,\n        styleName;\n\n      for(var i = 0; i < 4; i++) {\n        vendor = vendors[i];\n\n        for(var a = 0; a < 3; a++) {\n          styleCheckItem = styleChecks[a];\n\n          // uppercase first letter of property name, if vendor is present\n          styleName = vendor + (vendor ?\n            styleCheckItem.charAt(0).toUpperCase() + styleCheckItem.slice(1) :\n            styleCheckItem);\n\n          if(!features[styleCheckItem] && styleName in helperStyle ) {\n            features[styleCheckItem] = styleName;\n          }\n        }\n\n        if(vendor && !features.raf) {\n          vendor = vendor.toLowerCase();\n          features.raf = window[vendor+'RequestAnimationFrame'];\n          if(features.raf) {\n            features.caf = window[vendor+'CancelAnimationFrame'] ||\n              window[vendor+'CancelRequestAnimationFrame'];\n          }\n        }\n      }\n\n      if(!features.raf) {\n        var lastTime = 0;\n        features.raf = function(fn) {\n          var currTime = new Date().getTime();\n          var timeToCall = Math.max(0, 16 - (currTime - lastTime));\n          var id = window.setTimeout(function() { fn(currTime + timeToCall); }, timeToCall);\n          lastTime = currTime + timeToCall;\n          return id;\n        };\n        features.caf = function(id) { clearTimeout(id); };\n      }\n\n      // Detect SVG support\n      features.svg = !!document.createElementNS &&\n        !!document.createElementNS('http://www.w3.org/2000/svg', 'svg').createSVGRect;\n\n      framework.features = features;\n\n      return features;\n    }\n  };\n\n  framework.detectFeatures();\n\n// Override addEventListener for old versions of IE\n  if(framework.features.oldIE) {\n\n    framework.bind = function(target, type, listener, unbind) {\n\n      type = type.split(' ');\n\n      var methodName = (unbind ? 'detach' : 'attach') + 'Event',\n        evName,\n        _handleEv = function() {\n          listener.handleEvent.call(listener);\n        };\n\n      for(var i = 0; i < type.length; i++) {\n        evName = type[i];\n        if(evName) {\n\n          if(typeof listener === 'object' && listener.handleEvent) {\n            if(!unbind) {\n              listener['oldIE' + evName] = _handleEv;\n            } else {\n              if(!listener['oldIE' + evName]) {\n                return false;\n              }\n            }\n\n            target[methodName]( 'on' + evName, listener['oldIE' + evName]);\n          } else {\n            target[methodName]( 'on' + evName, listener);\n          }\n\n        }\n      }\n    };\n\n  }\n\n  /*>>framework-bridge*/\n\n  /*>>core*/\n//function(template, UiClass, items, options)\n\n  var self = this;\n\n  /**\n   * Static vars, don't change unless you know what you're doing.\n   */\n  var DOUBLE_TAP_RADIUS = 25,\n    NUM_HOLDERS = 3;\n\n  /**\n   * Options\n   */\n  var _options = {\n    allowPanToNext:true,\n    spacing: 0.12,\n    bgOpacity: 1,\n    mouseUsed: false,\n    loop: true,\n    pinchToClose: true,\n    closeOnScroll: true,\n    closeOnVerticalDrag: true,\n    verticalDragRange: 0.75,\n    hideAnimationDuration: 333,\n    showAnimationDuration: 333,\n    showHideOpacity: false,\n    focus: true,\n    escKey: true,\n    arrowKeys: true,\n    mainScrollEndFriction: 0.35,\n    panEndFriction: 0.35,\n    isClickableElement: function(el) {\n      return el.tagName === 'A';\n    },\n    getDoubleTapZoom: function(isMouseClick, item) {\n      if(isMouseClick) {\n        return 1;\n      } else {\n        return item.initialZoomLevel < 0.7 ? 1 : 1.33;\n      }\n    },\n    maxSpreadZoom: 1.33,\n    modal: true,\n\n    // not fully implemented yet\n    scaleMode: 'fit' // TODO\n  };\n  framework.extend(_options, options);\n\n\n  /**\n   * Private helper variables & functions\n   */\n\n  var _getEmptyPoint = function() {\n    return {x:0,y:0};\n  };\n\n  var _isOpen,\n    _isDestroying,\n    _closedByScroll,\n    _currentItemIndex,\n    _containerStyle,\n    _containerShiftIndex,\n    _currPanDist = _getEmptyPoint(),\n    _startPanOffset = _getEmptyPoint(),\n    _panOffset = _getEmptyPoint(),\n    _upMoveEvents, // drag move, drag end & drag cancel events array\n    _downEvents, // drag start events array\n    _globalEventHandlers,\n    _viewportSize = {},\n    _currZoomLevel,\n    _startZoomLevel,\n    _translatePrefix,\n    _translateSufix,\n    _updateSizeInterval,\n    _itemsNeedUpdate,\n    _currPositionIndex = 0,\n    _offset = {},\n    _slideSize = _getEmptyPoint(), // size of slide area, including spacing\n    _itemHolders,\n    _prevItemIndex,\n    _indexDiff = 0, // difference of indexes since last content update\n    _dragStartEvent,\n    _dragMoveEvent,\n    _dragEndEvent,\n    _dragCancelEvent,\n    _transformKey,\n    _pointerEventEnabled,\n    _isFixedPosition = true,\n    _likelyTouchDevice,\n    _modules = [],\n    _requestAF,\n    _cancelAF,\n    _initalClassName,\n    _initalWindowScrollY,\n    _oldIE,\n    _currentWindowScrollY,\n    _features,\n    _windowVisibleSize = {},\n    _renderMaxResolution = false,\n    _orientationChangeTimeout,\n\n\n    // Registers PhotoSWipe module (History, Controller ...)\n    _registerModule = function(name, module) {\n      framework.extend(self, module.publicMethods);\n      _modules.push(name);\n    },\n\n    _getLoopedId = function(index) {\n      var numSlides = _getNumItems();\n      if(index > numSlides - 1) {\n        return index - numSlides;\n      } else  if(index < 0) {\n        return numSlides + index;\n      }\n      return index;\n    },\n\n    // Micro bind/trigger\n    _listeners = {},\n    _listen = function(name, fn) {\n      if(!_listeners[name]) {\n        _listeners[name] = [];\n      }\n      return _listeners[name].push(fn);\n    },\n    _shout = function(name) {\n      var listeners = _listeners[name];\n\n      if(listeners) {\n        var args = Array.prototype.slice.call(arguments);\n        args.shift();\n\n        for(var i = 0; i < listeners.length; i++) {\n          listeners[i].apply(self, args);\n        }\n      }\n    },\n\n    _getCurrentTime = function() {\n      return new Date().getTime();\n    },\n    _applyBgOpacity = function(opacity) {\n      _bgOpacity = opacity;\n      self.bg.style.opacity = opacity * _options.bgOpacity;\n    },\n\n    _applyZoomTransform = function(styleObj,x,y,zoom,item) {\n      if(!_renderMaxResolution || (item && item !== self.currItem) ) {\n        zoom = zoom / (item ? item.fitRatio : self.currItem.fitRatio);\n      }\n\n      styleObj[_transformKey] = _translatePrefix + x + 'px, ' + y + 'px' + _translateSufix + ' scale(' + zoom + ')';\n    },\n    _applyCurrentZoomPan = function( allowRenderResolution ) {\n      if(_currZoomElementStyle) {\n\n        if(allowRenderResolution) {\n          if(_currZoomLevel > self.currItem.fitRatio) {\n            if(!_renderMaxResolution) {\n              _setImageSize(self.currItem, false, true);\n              _renderMaxResolution = true;\n            }\n          } else {\n            if(_renderMaxResolution) {\n              _setImageSize(self.currItem);\n              _renderMaxResolution = false;\n            }\n          }\n        }\n\n\n        _applyZoomTransform(_currZoomElementStyle, _panOffset.x, _panOffset.y, _currZoomLevel);\n      }\n    },\n    _applyZoomPanToItem = function(item) {\n      if(item.container) {\n\n        _applyZoomTransform(item.container.style,\n          item.initialPosition.x,\n          item.initialPosition.y,\n          item.initialZoomLevel,\n          item);\n      }\n    },\n    _setTranslateX = function(x, elStyle) {\n      elStyle[_transformKey] = _translatePrefix + x + 'px, 0px' + _translateSufix;\n    },\n    _moveMainScroll = function(x, dragging) {\n\n      if(!_options.loop && dragging) {\n        var newSlideIndexOffset = _currentItemIndex + (_slideSize.x * _currPositionIndex - x) / _slideSize.x,\n          delta = Math.round(x - _mainScrollPos.x);\n\n        if( (newSlideIndexOffset < 0 && delta > 0) ||\n          (newSlideIndexOffset >= _getNumItems() - 1 && delta < 0) ) {\n          x = _mainScrollPos.x + delta * _options.mainScrollEndFriction;\n        }\n      }\n\n      _mainScrollPos.x = x;\n      _setTranslateX(x, _containerStyle);\n    },\n    _calculatePanOffset = function(axis, zoomLevel) {\n      var m = _midZoomPoint[axis] - _offset[axis];\n      return _startPanOffset[axis] + _currPanDist[axis] + m - m * ( zoomLevel / _startZoomLevel );\n    },\n\n    _equalizePoints = function(p1, p2) {\n      p1.x = p2.x;\n      p1.y = p2.y;\n      if(p2.id) {\n        p1.id = p2.id;\n      }\n    },\n    _roundPoint = function(p) {\n      p.x = Math.round(p.x);\n      p.y = Math.round(p.y);\n    },\n\n    _mouseMoveTimeout = null,\n    _onFirstMouseMove = function() {\n      // Wait until mouse move event is fired at least twice during 100ms\n      // We do this, because some mobile browsers trigger it on touchstart\n      if(_mouseMoveTimeout ) {\n        framework.unbind(document, 'mousemove', _onFirstMouseMove);\n        framework.addClass(template, 'pswp--has_mouse');\n        _options.mouseUsed = true;\n        _shout('mouseUsed');\n      }\n      _mouseMoveTimeout = setTimeout(function() {\n        _mouseMoveTimeout = null;\n      }, 100);\n    },\n\n    _bindEvents = function() {\n      framework.bind(document, 'keydown', self);\n\n      if(_features.transform) {\n        // don't bind click event in browsers that don't support transform (mostly IE8)\n        framework.bind(self.scrollWrap, 'click', self);\n      }\n\n\n      if(!_options.mouseUsed) {\n        framework.bind(document, 'mousemove', _onFirstMouseMove);\n      }\n\n      framework.bind(window, 'resize scroll orientationchange', self);\n\n      _shout('bindEvents');\n    },\n\n    _unbindEvents = function() {\n      framework.unbind(window, 'resize scroll orientationchange', self);\n      framework.unbind(window, 'scroll', _globalEventHandlers.scroll);\n      framework.unbind(document, 'keydown', self);\n      framework.unbind(document, 'mousemove', _onFirstMouseMove);\n\n      if(_features.transform) {\n        framework.unbind(self.scrollWrap, 'click', self);\n      }\n\n      if(_isDragging) {\n        framework.unbind(window, _upMoveEvents, self);\n      }\n\n      clearTimeout(_orientationChangeTimeout);\n\n      _shout('unbindEvents');\n    },\n\n    _calculatePanBounds = function(zoomLevel, update) {\n      var bounds = _calculateItemSize( self.currItem, _viewportSize, zoomLevel );\n      if(update) {\n        _currPanBounds = bounds;\n      }\n      return bounds;\n    },\n\n    _getMinZoomLevel = function(item) {\n      if(!item) {\n        item = self.currItem;\n      }\n      return item.initialZoomLevel;\n    },\n    _getMaxZoomLevel = function(item) {\n      if(!item) {\n        item = self.currItem;\n      }\n      return item.w > 0 ? _options.maxSpreadZoom : 1;\n    },\n\n    // Return true if offset is out of the bounds\n    _modifyDestPanOffset = function(axis, destPanBounds, destPanOffset, destZoomLevel) {\n      if(destZoomLevel === self.currItem.initialZoomLevel) {\n        destPanOffset[axis] = self.currItem.initialPosition[axis];\n        return true;\n      } else {\n        destPanOffset[axis] = _calculatePanOffset(axis, destZoomLevel);\n\n        if(destPanOffset[axis] > destPanBounds.min[axis]) {\n          destPanOffset[axis] = destPanBounds.min[axis];\n          return true;\n        } else if(destPanOffset[axis] < destPanBounds.max[axis] ) {\n          destPanOffset[axis] = destPanBounds.max[axis];\n          return true;\n        }\n      }\n      return false;\n    },\n\n    _setupTransforms = function() {\n\n      if(_transformKey) {\n        // setup 3d transforms\n        var allow3dTransform = _features.perspective && !_likelyTouchDevice;\n        _translatePrefix = 'translate' + (allow3dTransform ? '3d(' : '(');\n        _translateSufix = _features.perspective ? ', 0px)' : ')';\n        return;\n      }\n\n      // Override zoom/pan/move functions in case old browser is used (most likely IE)\n      // (so they use left/top/width/height, instead of CSS transform)\n\n      _transformKey = 'left';\n      framework.addClass(template, 'pswp--ie');\n\n      _setTranslateX = function(x, elStyle) {\n        elStyle.left = x + 'px';\n      };\n      _applyZoomPanToItem = function(item) {\n\n        var zoomRatio = item.fitRatio > 1 ? 1 : item.fitRatio,\n          s = item.container.style,\n          w = zoomRatio * item.w,\n          h = zoomRatio * item.h;\n\n        s.width = w + 'px';\n        s.height = h + 'px';\n        s.left = item.initialPosition.x + 'px';\n        s.top = item.initialPosition.y + 'px';\n\n      };\n      _applyCurrentZoomPan = function() {\n        if(_currZoomElementStyle) {\n\n          var s = _currZoomElementStyle,\n            item = self.currItem,\n            zoomRatio = item.fitRatio > 1 ? 1 : item.fitRatio,\n            w = zoomRatio * item.w,\n            h = zoomRatio * item.h;\n\n          s.width = w + 'px';\n          s.height = h + 'px';\n\n\n          s.left = _panOffset.x + 'px';\n          s.top = _panOffset.y + 'px';\n        }\n\n      };\n    },\n\n    _onKeyDown = function(e) {\n      var keydownAction = '';\n      if(_options.escKey && e.keyCode === 27) {\n        keydownAction = 'close';\n      } else if(_options.arrowKeys) {\n        if(e.keyCode === 37) {\n          keydownAction = 'prev';\n        } else if(e.keyCode === 39) {\n          keydownAction = 'next';\n        }\n      }\n\n      if(keydownAction) {\n        // don't do anything if special key pressed to prevent from overriding default browser actions\n        // e.g. in Chrome on Mac cmd+arrow-left returns to previous page\n        if( !e.ctrlKey && !e.altKey && !e.shiftKey && !e.metaKey ) {\n          if(e.preventDefault) {\n            e.preventDefault();\n          } else {\n            e.returnValue = false;\n          }\n          self[keydownAction]();\n        }\n      }\n    },\n\n    _onGlobalClick = function(e) {\n      if(!e) {\n        return;\n      }\n\n      // don't allow click event to pass through when triggering after drag or some other gesture\n      if(_moved || _zoomStarted || _mainScrollAnimating || _verticalDragInitiated) {\n        e.preventDefault();\n        e.stopPropagation();\n      }\n    },\n\n    _updatePageScrollOffset = function() {\n      self.setScrollOffset(0, framework.getScrollY());\n    };\n\n\n\n\n\n\n\n// Micro animation engine\n  var _animations = {},\n    _numAnimations = 0,\n    _stopAnimation = function(name) {\n      if(_animations[name]) {\n        if(_animations[name].raf) {\n          _cancelAF( _animations[name].raf );\n        }\n        _numAnimations--;\n        delete _animations[name];\n      }\n    },\n    _registerStartAnimation = function(name) {\n      if(_animations[name]) {\n        _stopAnimation(name);\n      }\n      if(!_animations[name]) {\n        _numAnimations++;\n        _animations[name] = {};\n      }\n    },\n    _stopAllAnimations = function() {\n      for (var prop in _animations) {\n\n        if( _animations.hasOwnProperty( prop ) ) {\n          _stopAnimation(prop);\n        }\n\n      }\n    },\n    _animateProp = function(name, b, endProp, d, easingFn, onUpdate, onComplete) {\n      var startAnimTime = _getCurrentTime(), t;\n      _registerStartAnimation(name);\n\n      var animloop = function(){\n        if ( _animations[name] ) {\n\n          t = _getCurrentTime() - startAnimTime; // time diff\n          //b - beginning (start prop)\n          //d - anim duration\n\n          if ( t >= d ) {\n            _stopAnimation(name);\n            onUpdate(endProp);\n            if(onComplete) {\n              onComplete();\n            }\n            return;\n          }\n          onUpdate( (endProp - b) * easingFn(t/d) + b );\n\n          _animations[name].raf = _requestAF(animloop);\n        }\n      };\n      animloop();\n    };\n\n\n\n  var publicMethods = {\n\n    // make a few local variables and functions public\n    shout: _shout,\n    listen: _listen,\n    viewportSize: _viewportSize,\n    options: _options,\n\n    isMainScrollAnimating: function() {\n      return _mainScrollAnimating;\n    },\n    getZoomLevel: function() {\n      return _currZoomLevel;\n    },\n    getCurrentIndex: function() {\n      return _currentItemIndex;\n    },\n    isDragging: function() {\n      return _isDragging;\n    },\n    isZooming: function() {\n      return _isZooming;\n    },\n    setScrollOffset: function(x,y) {\n      _offset.x = x;\n      _currentWindowScrollY = _offset.y = y;\n      _shout('updateScrollOffset', _offset);\n    },\n    applyZoomPan: function(zoomLevel,panX,panY,allowRenderResolution) {\n      _panOffset.x = panX;\n      _panOffset.y = panY;\n      _currZoomLevel = zoomLevel;\n      _applyCurrentZoomPan( allowRenderResolution );\n    },\n\n    init: function() {\n\n      if(_isOpen || _isDestroying) {\n        return;\n      }\n\n      var i;\n\n      self.framework = framework; // basic functionality\n      self.template = template; // root DOM element of PhotoSwipe\n      self.bg = framework.getChildByClass(template, 'pswp__bg');\n\n      _initalClassName = template.className;\n      _isOpen = true;\n\n      _features = framework.detectFeatures();\n      _requestAF = _features.raf;\n      _cancelAF = _features.caf;\n      _transformKey = _features.transform;\n      _oldIE = _features.oldIE;\n\n      self.scrollWrap = framework.getChildByClass(template, 'pswp__scroll-wrap');\n      self.container = framework.getChildByClass(self.scrollWrap, 'pswp__container');\n\n      _containerStyle = self.container.style; // for fast access\n\n      // Objects that hold slides (there are only 3 in DOM)\n      self.itemHolders = _itemHolders = [\n        {el:self.container.children[0] , wrap:0, index: -1},\n        {el:self.container.children[1] , wrap:0, index: -1},\n        {el:self.container.children[2] , wrap:0, index: -1}\n      ];\n\n      // hide nearby item holders until initial zoom animation finishes (to avoid extra Paints)\n      _itemHolders[0].el.style.display = _itemHolders[2].el.style.display = 'none';\n\n      _setupTransforms();\n\n      // Setup global events\n      _globalEventHandlers = {\n        resize: self.updateSize,\n\n        // Fixes: iOS 10.3 resize event\n        // does not update scrollWrap.clientWidth instantly after resize\n        // https://github.com/dimsemenov/PhotoSwipe/issues/1315\n        orientationchange: function() {\n          clearTimeout(_orientationChangeTimeout);\n          _orientationChangeTimeout = setTimeout(function() {\n            if(_viewportSize.x !== self.scrollWrap.clientWidth) {\n              self.updateSize();\n            }\n          }, 500);\n        },\n        scroll: _updatePageScrollOffset,\n        keydown: _onKeyDown,\n        click: _onGlobalClick\n      };\n\n      // disable show/hide effects on old browsers that don't support CSS animations or transforms,\n      // old IOS, Android and Opera mobile. Blackberry seems to work fine, even older models.\n      var oldPhone = _features.isOldIOSPhone || _features.isOldAndroid || _features.isMobileOpera;\n      if(!_features.animationName || !_features.transform || oldPhone) {\n        _options.showAnimationDuration = _options.hideAnimationDuration = 0;\n      }\n\n      // init modules\n      for(i = 0; i < _modules.length; i++) {\n        self['init' + _modules[i]]();\n      }\n\n      // init\n      if(UiClass) {\n        var ui = self.ui = new UiClass(self, framework);\n        ui.init();\n      }\n\n      _shout('firstUpdate');\n      _currentItemIndex = _currentItemIndex || _options.index || 0;\n      // validate index\n      if( isNaN(_currentItemIndex) || _currentItemIndex < 0 || _currentItemIndex >= _getNumItems() ) {\n        _currentItemIndex = 0;\n      }\n      self.currItem = _getItemAt( _currentItemIndex );\n\n\n      if(_features.isOldIOSPhone || _features.isOldAndroid) {\n        _isFixedPosition = false;\n      }\n\n      template.setAttribute('aria-hidden', 'false');\n      if(_options.modal) {\n        if(!_isFixedPosition) {\n          template.style.position = 'absolute';\n          template.style.top = framework.getScrollY() + 'px';\n        } else {\n          template.style.position = 'fixed';\n        }\n      }\n\n      if(_currentWindowScrollY === undefined) {\n        _shout('initialLayout');\n        _currentWindowScrollY = _initalWindowScrollY = framework.getScrollY();\n      }\n\n      // add classes to root element of PhotoSwipe\n      var rootClasses = 'pswp--open ';\n      if(_options.mainClass) {\n        rootClasses += _options.mainClass + ' ';\n      }\n      if(_options.showHideOpacity) {\n        rootClasses += 'pswp--animate_opacity ';\n      }\n      rootClasses += _likelyTouchDevice ? 'pswp--touch' : 'pswp--notouch';\n      rootClasses += _features.animationName ? ' pswp--css_animation' : '';\n      rootClasses += _features.svg ? ' pswp--svg' : '';\n      framework.addClass(template, rootClasses);\n\n      self.updateSize();\n\n      // initial update\n      _containerShiftIndex = -1;\n      _indexDiff = null;\n      for(i = 0; i < NUM_HOLDERS; i++) {\n        _setTranslateX( (i+_containerShiftIndex) * _slideSize.x, _itemHolders[i].el.style);\n      }\n\n      if(!_oldIE) {\n        framework.bind(self.scrollWrap, _downEvents, self); // no dragging for old IE\n      }\n\n      _listen('initialZoomInEnd', function() {\n        self.setContent(_itemHolders[0], _currentItemIndex-1);\n        self.setContent(_itemHolders[2], _currentItemIndex+1);\n\n        _itemHolders[0].el.style.display = _itemHolders[2].el.style.display = 'block';\n\n        if(_options.focus) {\n          // focus causes layout,\n          // which causes lag during the animation,\n          // that's why we delay it untill the initial zoom transition ends\n          template.focus();\n        }\n\n\n        _bindEvents();\n      });\n\n      // set content for center slide (first time)\n      self.setContent(_itemHolders[1], _currentItemIndex);\n\n      self.updateCurrItem();\n\n      _shout('afterInit');\n\n      if(!_isFixedPosition) {\n\n        // On all versions of iOS lower than 8.0, we check size of viewport every second.\n        //\n        // This is done to detect when Safari top & bottom bars appear,\n        // as this action doesn't trigger any events (like resize).\n        //\n        // On iOS8 they fixed this.\n        //\n        // 10 Nov 2014: iOS 7 usage ~40%. iOS 8 usage 56%.\n\n        _updateSizeInterval = setInterval(function() {\n          if(!_numAnimations && !_isDragging && !_isZooming && (_currZoomLevel === self.currItem.initialZoomLevel)  ) {\n            self.updateSize();\n          }\n        }, 1000);\n      }\n\n      framework.addClass(template, 'pswp--visible');\n    },\n\n    // Close the gallery, then destroy it\n    close: function() {\n      if(!_isOpen) {\n        return;\n      }\n\n      _isOpen = false;\n      _isDestroying = true;\n      _shout('close');\n      _unbindEvents();\n\n      _showOrHide(self.currItem, null, true, self.destroy);\n    },\n\n    // destroys the gallery (unbinds events, cleans up intervals and timeouts to avoid memory leaks)\n    destroy: function() {\n      _shout('destroy');\n\n      if(_showOrHideTimeout) {\n        clearTimeout(_showOrHideTimeout);\n      }\n\n      template.setAttribute('aria-hidden', 'true');\n      template.className = _initalClassName;\n\n      if(_updateSizeInterval) {\n        clearInterval(_updateSizeInterval);\n      }\n\n      framework.unbind(self.scrollWrap, _downEvents, self);\n\n      // we unbind scroll event at the end, as closing animation may depend on it\n      framework.unbind(window, 'scroll', self);\n\n      _stopDragUpdateLoop();\n\n      _stopAllAnimations();\n\n      _listeners = null;\n    },\n\n    /**\n     * Pan image to position\n     * @param {Number} x\n     * @param {Number} y\n     * @param {Boolean} force Will ignore bounds if set to true.\n     */\n    panTo: function(x,y,force) {\n      if(!force) {\n        if(x > _currPanBounds.min.x) {\n          x = _currPanBounds.min.x;\n        } else if(x < _currPanBounds.max.x) {\n          x = _currPanBounds.max.x;\n        }\n\n        if(y > _currPanBounds.min.y) {\n          y = _currPanBounds.min.y;\n        } else if(y < _currPanBounds.max.y) {\n          y = _currPanBounds.max.y;\n        }\n      }\n\n      _panOffset.x = x;\n      _panOffset.y = y;\n      _applyCurrentZoomPan();\n    },\n\n    handleEvent: function (e) {\n      e = e || window.event;\n      if(_globalEventHandlers[e.type]) {\n        _globalEventHandlers[e.type](e);\n      }\n    },\n\n\n    goTo: function(index) {\n\n      index = _getLoopedId(index);\n\n      var diff = index - _currentItemIndex;\n      _indexDiff = diff;\n\n      _currentItemIndex = index;\n      self.currItem = _getItemAt( _currentItemIndex );\n      _currPositionIndex -= diff;\n\n      _moveMainScroll(_slideSize.x * _currPositionIndex);\n\n\n      _stopAllAnimations();\n      _mainScrollAnimating = false;\n\n      self.updateCurrItem();\n    },\n    next: function() {\n      self.goTo( _currentItemIndex + 1);\n    },\n    prev: function() {\n      self.goTo( _currentItemIndex - 1);\n    },\n\n    // update current zoom/pan objects\n    updateCurrZoomItem: function(emulateSetContent) {\n      if(emulateSetContent) {\n        _shout('beforeChange', 0);\n      }\n\n      // itemHolder[1] is middle (current) item\n      if(_itemHolders[1].el.children.length) {\n        var zoomElement = _itemHolders[1].el.children[0];\n        if( framework.hasClass(zoomElement, 'pswp__zoom-wrap') ) {\n          _currZoomElementStyle = zoomElement.style;\n        } else {\n          _currZoomElementStyle = null;\n        }\n      } else {\n        _currZoomElementStyle = null;\n      }\n\n      _currPanBounds = self.currItem.bounds;\n      _startZoomLevel = _currZoomLevel = self.currItem.initialZoomLevel;\n\n      _panOffset.x = _currPanBounds.center.x;\n      _panOffset.y = _currPanBounds.center.y;\n\n      if(emulateSetContent) {\n        _shout('afterChange');\n      }\n    },\n\n\n    invalidateCurrItems: function() {\n      _itemsNeedUpdate = true;\n      for(var i = 0; i < NUM_HOLDERS; i++) {\n        if( _itemHolders[i].item ) {\n          _itemHolders[i].item.needsUpdate = true;\n        }\n      }\n    },\n\n    updateCurrItem: function(beforeAnimation) {\n\n      if(_indexDiff === 0) {\n        return;\n      }\n\n      var diffAbs = Math.abs(_indexDiff),\n        tempHolder;\n\n      if(beforeAnimation && diffAbs < 2) {\n        return;\n      }\n\n\n      self.currItem = _getItemAt( _currentItemIndex );\n      _renderMaxResolution = false;\n\n      _shout('beforeChange', _indexDiff);\n\n      if(diffAbs >= NUM_HOLDERS) {\n        _containerShiftIndex += _indexDiff + (_indexDiff > 0 ? -NUM_HOLDERS : NUM_HOLDERS);\n        diffAbs = NUM_HOLDERS;\n      }\n      for(var i = 0; i < diffAbs; i++) {\n        if(_indexDiff > 0) {\n          tempHolder = _itemHolders.shift();\n          _itemHolders[NUM_HOLDERS-1] = tempHolder; // move first to last\n\n          _containerShiftIndex++;\n          _setTranslateX( (_containerShiftIndex+2) * _slideSize.x, tempHolder.el.style);\n          self.setContent(tempHolder, _currentItemIndex - diffAbs + i + 1 + 1);\n        } else {\n          tempHolder = _itemHolders.pop();\n          _itemHolders.unshift( tempHolder ); // move last to first\n\n          _containerShiftIndex--;\n          _setTranslateX( _containerShiftIndex * _slideSize.x, tempHolder.el.style);\n          self.setContent(tempHolder, _currentItemIndex + diffAbs - i - 1 - 1);\n        }\n\n      }\n\n      // reset zoom/pan on previous item\n      if(_currZoomElementStyle && Math.abs(_indexDiff) === 1) {\n\n        var prevItem = _getItemAt(_prevItemIndex);\n        if(prevItem.initialZoomLevel !== _currZoomLevel) {\n          _calculateItemSize(prevItem , _viewportSize );\n          _setImageSize(prevItem);\n          _applyZoomPanToItem( prevItem );\n        }\n\n      }\n\n      // reset diff after update\n      _indexDiff = 0;\n\n      self.updateCurrZoomItem();\n\n      _prevItemIndex = _currentItemIndex;\n\n      _shout('afterChange');\n\n    },\n\n\n\n    updateSize: function(force) {\n\n      if(!_isFixedPosition && _options.modal) {\n        var windowScrollY = framework.getScrollY();\n        if(_currentWindowScrollY !== windowScrollY) {\n          template.style.top = windowScrollY + 'px';\n          _currentWindowScrollY = windowScrollY;\n        }\n        if(!force && _windowVisibleSize.x === window.innerWidth && _windowVisibleSize.y === window.innerHeight) {\n          return;\n        }\n        _windowVisibleSize.x = window.innerWidth;\n        _windowVisibleSize.y = window.innerHeight;\n\n        //template.style.width = _windowVisibleSize.x + 'px';\n        template.style.height = _windowVisibleSize.y + 'px';\n      }\n\n\n\n      _viewportSize.x = self.scrollWrap.clientWidth;\n      _viewportSize.y = self.scrollWrap.clientHeight;\n\n      _updatePageScrollOffset();\n\n      _slideSize.x = _viewportSize.x + Math.round(_viewportSize.x * _options.spacing);\n      _slideSize.y = _viewportSize.y;\n\n      _moveMainScroll(_slideSize.x * _currPositionIndex);\n\n      _shout('beforeResize'); // even may be used for example to switch image sources\n\n\n      // don't re-calculate size on inital size update\n      if(_containerShiftIndex !== undefined) {\n\n        var holder,\n          item,\n          hIndex;\n\n        for(var i = 0; i < NUM_HOLDERS; i++) {\n          holder = _itemHolders[i];\n          _setTranslateX( (i+_containerShiftIndex) * _slideSize.x, holder.el.style);\n\n          hIndex = _currentItemIndex+i-1;\n\n          if(_options.loop && _getNumItems() > 2) {\n            hIndex = _getLoopedId(hIndex);\n          }\n\n          // update zoom level on items and refresh source (if needsUpdate)\n          item = _getItemAt( hIndex );\n\n          // re-render gallery item if `needsUpdate`,\n          // or doesn't have `bounds` (entirely new slide object)\n          if( item && (_itemsNeedUpdate || item.needsUpdate || !item.bounds) ) {\n\n            self.cleanSlide( item );\n\n            self.setContent( holder, hIndex );\n\n            // if \"center\" slide\n            if(i === 1) {\n              self.currItem = item;\n              self.updateCurrZoomItem(true);\n            }\n\n            item.needsUpdate = false;\n\n          } else if(holder.index === -1 && hIndex >= 0) {\n            // add content first time\n            self.setContent( holder, hIndex );\n          }\n          if(item && item.container) {\n            _calculateItemSize(item, _viewportSize);\n            _setImageSize(item);\n            _applyZoomPanToItem( item );\n          }\n\n        }\n        _itemsNeedUpdate = false;\n      }\n\n      _startZoomLevel = _currZoomLevel = self.currItem.initialZoomLevel;\n      _currPanBounds = self.currItem.bounds;\n\n      if(_currPanBounds) {\n        _panOffset.x = _currPanBounds.center.x;\n        _panOffset.y = _currPanBounds.center.y;\n        _applyCurrentZoomPan( true );\n      }\n\n      _shout('resize');\n    },\n\n    // Zoom current item to\n    zoomTo: function(destZoomLevel, centerPoint, speed, easingFn, updateFn) {\n      /*\n              if(destZoomLevel === 'fit') {\n                  destZoomLevel = self.currItem.fitRatio;\n              } else if(destZoomLevel === 'fill') {\n                  destZoomLevel = self.currItem.fillRatio;\n              }\n          */\n\n      if(centerPoint) {\n        _startZoomLevel = _currZoomLevel;\n        _midZoomPoint.x = Math.abs(centerPoint.x) - _panOffset.x ;\n        _midZoomPoint.y = Math.abs(centerPoint.y) - _panOffset.y ;\n        _equalizePoints(_startPanOffset, _panOffset);\n      }\n\n      var destPanBounds = _calculatePanBounds(destZoomLevel, false),\n        destPanOffset = {};\n\n      _modifyDestPanOffset('x', destPanBounds, destPanOffset, destZoomLevel);\n      _modifyDestPanOffset('y', destPanBounds, destPanOffset, destZoomLevel);\n\n      var initialZoomLevel = _currZoomLevel;\n      var initialPanOffset = {\n        x: _panOffset.x,\n        y: _panOffset.y\n      };\n\n      _roundPoint(destPanOffset);\n\n      var onUpdate = function(now) {\n        if(now === 1) {\n          _currZoomLevel = destZoomLevel;\n          _panOffset.x = destPanOffset.x;\n          _panOffset.y = destPanOffset.y;\n        } else {\n          _currZoomLevel = (destZoomLevel - initialZoomLevel) * now + initialZoomLevel;\n          _panOffset.x = (destPanOffset.x - initialPanOffset.x) * now + initialPanOffset.x;\n          _panOffset.y = (destPanOffset.y - initialPanOffset.y) * now + initialPanOffset.y;\n        }\n\n        if(updateFn) {\n          updateFn(now);\n        }\n\n        _applyCurrentZoomPan( now === 1 );\n      };\n\n      if(speed) {\n        _animateProp('customZoomTo', 0, 1, speed, easingFn || framework.easing.sine.inOut, onUpdate);\n      } else {\n        onUpdate(1);\n      }\n    }\n\n\n  };\n\n\n  /*>>core*/\n\n  /*>>gestures*/\n  /**\n   * Mouse/touch/pointer event handlers.\n   *\n   * separated from @core.js for readability\n   */\n\n  var MIN_SWIPE_DISTANCE = 30,\n    DIRECTION_CHECK_OFFSET = 10; // amount of pixels to drag to determine direction of swipe\n\n  var _gestureStartTime,\n    _gestureCheckSpeedTime,\n\n    // pool of objects that are used during dragging of zooming\n    p = {}, // first point\n    p2 = {}, // second point (for zoom gesture)\n    delta = {},\n    _currPoint = {},\n    _startPoint = {},\n    _currPointers = [],\n    _startMainScrollPos = {},\n    _releaseAnimData,\n    _posPoints = [], // array of points during dragging, used to determine type of gesture\n    _tempPoint = {},\n\n    _isZoomingIn,\n    _verticalDragInitiated,\n    _oldAndroidTouchEndTimeout,\n    _currZoomedItemIndex = 0,\n    _centerPoint = _getEmptyPoint(),\n    _lastReleaseTime = 0,\n    _isDragging, // at least one pointer is down\n    _isMultitouch, // at least two _pointers are down\n    _zoomStarted, // zoom level changed during zoom gesture\n    _moved,\n    _dragAnimFrame,\n    _mainScrollShifted,\n    _currentPoints, // array of current touch points\n    _isZooming,\n    _currPointsDistance,\n    _startPointsDistance,\n    _currPanBounds,\n    _mainScrollPos = _getEmptyPoint(),\n    _currZoomElementStyle,\n    _mainScrollAnimating, // true, if animation after swipe gesture is running\n    _midZoomPoint = _getEmptyPoint(),\n    _currCenterPoint = _getEmptyPoint(),\n    _direction,\n    _isFirstMove,\n    _opacityChanged,\n    _bgOpacity,\n    _wasOverInitialZoom,\n\n    _isEqualPoints = function(p1, p2) {\n      return p1.x === p2.x && p1.y === p2.y;\n    },\n    _isNearbyPoints = function(touch0, touch1) {\n      return Math.abs(touch0.x - touch1.x) < DOUBLE_TAP_RADIUS && Math.abs(touch0.y - touch1.y) < DOUBLE_TAP_RADIUS;\n    },\n    _calculatePointsDistance = function(p1, p2) {\n      _tempPoint.x = Math.abs( p1.x - p2.x );\n      _tempPoint.y = Math.abs( p1.y - p2.y );\n      return Math.sqrt(_tempPoint.x * _tempPoint.x + _tempPoint.y * _tempPoint.y);\n    },\n    _stopDragUpdateLoop = function() {\n      if(_dragAnimFrame) {\n        _cancelAF(_dragAnimFrame);\n        _dragAnimFrame = null;\n      }\n    },\n    _dragUpdateLoop = function() {\n      if(_isDragging) {\n        _dragAnimFrame = _requestAF(_dragUpdateLoop);\n        _renderMovement();\n      }\n    },\n    _canPan = function() {\n      return !(_options.scaleMode === 'fit' && _currZoomLevel ===  self.currItem.initialZoomLevel);\n    },\n\n    // find the closest parent DOM element\n    _closestElement = function(el, fn) {\n      if(!el || el === document) {\n        return false;\n      }\n\n      // don't search elements above pswp__scroll-wrap\n      if(el.getAttribute('class') && el.getAttribute('class').indexOf('pswp__scroll-wrap') > -1 ) {\n        return false;\n      }\n\n      if( fn(el) ) {\n        return el;\n      }\n\n      return _closestElement(el.parentNode, fn);\n    },\n\n    _preventObj = {},\n    _preventDefaultEventBehaviour = function(e, isDown) {\n      _preventObj.prevent = !_closestElement(e.target, _options.isClickableElement);\n\n      _shout('preventDragEvent', e, isDown, _preventObj);\n      return _preventObj.prevent;\n\n    },\n    _convertTouchToPoint = function(touch, p) {\n      p.x = touch.pageX;\n      p.y = touch.pageY;\n      p.id = touch.identifier;\n      return p;\n    },\n    _findCenterOfPoints = function(p1, p2, pCenter) {\n      pCenter.x = (p1.x + p2.x) * 0.5;\n      pCenter.y = (p1.y + p2.y) * 0.5;\n    },\n    _pushPosPoint = function(time, x, y) {\n      if(time - _gestureCheckSpeedTime > 50) {\n        var o = _posPoints.length > 2 ? _posPoints.shift() : {};\n        o.x = x;\n        o.y = y;\n        _posPoints.push(o);\n        _gestureCheckSpeedTime = time;\n      }\n    },\n\n    _calculateVerticalDragOpacityRatio = function() {\n      var yOffset = _panOffset.y - self.currItem.initialPosition.y; // difference between initial and current position\n      return 1 -  Math.abs( yOffset / (_viewportSize.y / 2)  );\n    },\n\n\n    // points pool, reused during touch events\n    _ePoint1 = {},\n    _ePoint2 = {},\n    _tempPointsArr = [],\n    _tempCounter,\n    _getTouchPoints = function(e) {\n      // clean up previous points, without recreating array\n      while(_tempPointsArr.length > 0) {\n        _tempPointsArr.pop();\n      }\n\n      if(!_pointerEventEnabled) {\n        if(e.type.indexOf('touch') > -1) {\n\n          if(e.touches && e.touches.length > 0) {\n            _tempPointsArr[0] = _convertTouchToPoint(e.touches[0], _ePoint1);\n            if(e.touches.length > 1) {\n              _tempPointsArr[1] = _convertTouchToPoint(e.touches[1], _ePoint2);\n            }\n          }\n\n        } else {\n          _ePoint1.x = e.pageX;\n          _ePoint1.y = e.pageY;\n          _ePoint1.id = '';\n          _tempPointsArr[0] = _ePoint1;//_ePoint1;\n        }\n      } else {\n        _tempCounter = 0;\n        // we can use forEach, as pointer events are supported only in modern browsers\n        _currPointers.forEach(function(p) {\n          if(_tempCounter === 0) {\n            _tempPointsArr[0] = p;\n          } else if(_tempCounter === 1) {\n            _tempPointsArr[1] = p;\n          }\n          _tempCounter++;\n\n        });\n      }\n      return _tempPointsArr;\n    },\n\n    _panOrMoveMainScroll = function(axis, delta) {\n\n      var panFriction,\n        overDiff = 0,\n        newOffset = _panOffset[axis] + delta[axis],\n        startOverDiff,\n        dir = delta[axis] > 0,\n        newMainScrollPosition = _mainScrollPos.x + delta.x,\n        mainScrollDiff = _mainScrollPos.x - _startMainScrollPos.x,\n        newPanPos,\n        newMainScrollPos;\n\n      // calculate fdistance over the bounds and friction\n      if(newOffset > _currPanBounds.min[axis] || newOffset < _currPanBounds.max[axis]) {\n        panFriction = _options.panEndFriction;\n        // Linear increasing of friction, so at 1/4 of viewport it's at max value.\n        // Looks not as nice as was expected. Left for history.\n        // panFriction = (1 - (_panOffset[axis] + delta[axis] + panBounds.min[axis]) / (_viewportSize[axis] / 4) );\n      } else {\n        panFriction = 1;\n      }\n\n      newOffset = _panOffset[axis] + delta[axis] * panFriction;\n\n      // move main scroll or start panning\n      if(_options.allowPanToNext || _currZoomLevel === self.currItem.initialZoomLevel) {\n\n\n        if(!_currZoomElementStyle) {\n\n          newMainScrollPos = newMainScrollPosition;\n\n        } else if(_direction === 'h' && axis === 'x' && !_zoomStarted ) {\n\n          if(dir) {\n            if(newOffset > _currPanBounds.min[axis]) {\n              panFriction = _options.panEndFriction;\n              overDiff = _currPanBounds.min[axis] - newOffset;\n              startOverDiff = _currPanBounds.min[axis] - _startPanOffset[axis];\n            }\n\n            // drag right\n            if( (startOverDiff <= 0 || mainScrollDiff < 0) && _getNumItems() > 1 ) {\n              newMainScrollPos = newMainScrollPosition;\n              if(mainScrollDiff < 0 && newMainScrollPosition > _startMainScrollPos.x) {\n                newMainScrollPos = _startMainScrollPos.x;\n              }\n            } else {\n              if(_currPanBounds.min.x !== _currPanBounds.max.x) {\n                newPanPos = newOffset;\n              }\n\n            }\n\n          } else {\n\n            if(newOffset < _currPanBounds.max[axis] ) {\n              panFriction =_options.panEndFriction;\n              overDiff = newOffset - _currPanBounds.max[axis];\n              startOverDiff = _startPanOffset[axis] - _currPanBounds.max[axis];\n            }\n\n            if( (startOverDiff <= 0 || mainScrollDiff > 0) && _getNumItems() > 1 ) {\n              newMainScrollPos = newMainScrollPosition;\n\n              if(mainScrollDiff > 0 && newMainScrollPosition < _startMainScrollPos.x) {\n                newMainScrollPos = _startMainScrollPos.x;\n              }\n\n            } else {\n              if(_currPanBounds.min.x !== _currPanBounds.max.x) {\n                newPanPos = newOffset;\n              }\n            }\n\n          }\n\n\n          //\n        }\n\n        if(axis === 'x') {\n\n          if(newMainScrollPos !== undefined) {\n            _moveMainScroll(newMainScrollPos, true);\n            if(newMainScrollPos === _startMainScrollPos.x) {\n              _mainScrollShifted = false;\n            } else {\n              _mainScrollShifted = true;\n            }\n          }\n\n          if(_currPanBounds.min.x !== _currPanBounds.max.x) {\n            if(newPanPos !== undefined) {\n              _panOffset.x = newPanPos;\n            } else if(!_mainScrollShifted) {\n              _panOffset.x += delta.x * panFriction;\n            }\n          }\n\n          return newMainScrollPos !== undefined;\n        }\n\n      }\n\n      if(!_mainScrollAnimating) {\n\n        if(!_mainScrollShifted) {\n          if(_currZoomLevel > self.currItem.fitRatio) {\n            _panOffset[axis] += delta[axis] * panFriction;\n\n          }\n        }\n\n\n      }\n\n    },\n\n    // Pointerdown/touchstart/mousedown handler\n    _onDragStart = function(e) {\n\n      // Allow dragging only via left mouse button.\n      // As this handler is not added in IE8 - we ignore e.which\n      //\n      // http://www.quirksmode.org/js/events_properties.html\n      // https://developer.mozilla.org/en-US/docs/Web/API/event.button\n      if(e.type === 'mousedown' && e.button > 0  ) {\n        return;\n      }\n\n      if(_initialZoomRunning) {\n        e.preventDefault();\n        return;\n      }\n\n      if(_oldAndroidTouchEndTimeout && e.type === 'mousedown') {\n        return;\n      }\n\n      if(_preventDefaultEventBehaviour(e, true)) {\n        e.preventDefault();\n      }\n\n\n\n      _shout('pointerDown');\n\n      if(_pointerEventEnabled) {\n        var pointerIndex = framework.arraySearch(_currPointers, e.pointerId, 'id');\n        if(pointerIndex < 0) {\n          pointerIndex = _currPointers.length;\n        }\n        _currPointers[pointerIndex] = {x:e.pageX, y:e.pageY, id: e.pointerId};\n      }\n\n\n\n      var startPointsList = _getTouchPoints(e),\n        numPoints = startPointsList.length;\n\n      _currentPoints = null;\n\n      _stopAllAnimations();\n\n      // init drag\n      if(!_isDragging || numPoints === 1) {\n\n\n\n        _isDragging = _isFirstMove = true;\n        framework.bind(window, _upMoveEvents, self);\n\n        _isZoomingIn =\n          _wasOverInitialZoom =\n            _opacityChanged =\n              _verticalDragInitiated =\n                _mainScrollShifted =\n                  _moved =\n                    _isMultitouch =\n                      _zoomStarted = false;\n\n        _direction = null;\n\n        _shout('firstTouchStart', startPointsList);\n\n        _equalizePoints(_startPanOffset, _panOffset);\n\n        _currPanDist.x = _currPanDist.y = 0;\n        _equalizePoints(_currPoint, startPointsList[0]);\n        _equalizePoints(_startPoint, _currPoint);\n\n        //_equalizePoints(_startMainScrollPos, _mainScrollPos);\n        _startMainScrollPos.x = _slideSize.x * _currPositionIndex;\n\n        _posPoints = [{\n          x: _currPoint.x,\n          y: _currPoint.y\n        }];\n\n        _gestureCheckSpeedTime = _gestureStartTime = _getCurrentTime();\n\n        //_mainScrollAnimationEnd(true);\n        _calculatePanBounds( _currZoomLevel, true );\n\n        // Start rendering\n        _stopDragUpdateLoop();\n        _dragUpdateLoop();\n\n      }\n\n      // init zoom\n      if(!_isZooming && numPoints > 1 && !_mainScrollAnimating && !_mainScrollShifted) {\n        _startZoomLevel = _currZoomLevel;\n        _zoomStarted = false; // true if zoom changed at least once\n\n        _isZooming = _isMultitouch = true;\n        _currPanDist.y = _currPanDist.x = 0;\n\n        _equalizePoints(_startPanOffset, _panOffset);\n\n        _equalizePoints(p, startPointsList[0]);\n        _equalizePoints(p2, startPointsList[1]);\n\n        _findCenterOfPoints(p, p2, _currCenterPoint);\n\n        _midZoomPoint.x = Math.abs(_currCenterPoint.x) - _panOffset.x;\n        _midZoomPoint.y = Math.abs(_currCenterPoint.y) - _panOffset.y;\n        _currPointsDistance = _startPointsDistance = _calculatePointsDistance(p, p2);\n      }\n\n\n    },\n\n    // Pointermove/touchmove/mousemove handler\n    _onDragMove = function(e) {\n\n      e.preventDefault();\n\n      if(_pointerEventEnabled) {\n        var pointerIndex = framework.arraySearch(_currPointers, e.pointerId, 'id');\n        if(pointerIndex > -1) {\n          var p = _currPointers[pointerIndex];\n          p.x = e.pageX;\n          p.y = e.pageY;\n        }\n      }\n\n      if(_isDragging) {\n        var touchesList = _getTouchPoints(e);\n        if(!_direction && !_moved && !_isZooming) {\n\n          if(_mainScrollPos.x !== _slideSize.x * _currPositionIndex) {\n            // if main scroll position is shifted – direction is always horizontal\n            _direction = 'h';\n          } else {\n            var diff = Math.abs(touchesList[0].x - _currPoint.x) - Math.abs(touchesList[0].y - _currPoint.y);\n            // check the direction of movement\n            if(Math.abs(diff) >= DIRECTION_CHECK_OFFSET) {\n              _direction = diff > 0 ? 'h' : 'v';\n              _currentPoints = touchesList;\n            }\n          }\n\n        } else {\n          _currentPoints = touchesList;\n        }\n      }\n    },\n    //\n    _renderMovement =  function() {\n\n      if(!_currentPoints) {\n        return;\n      }\n\n      var numPoints = _currentPoints.length;\n\n      if(numPoints === 0) {\n        return;\n      }\n\n      _equalizePoints(p, _currentPoints[0]);\n\n      delta.x = p.x - _currPoint.x;\n      delta.y = p.y - _currPoint.y;\n\n      if(_isZooming && numPoints > 1) {\n        // Handle behaviour for more than 1 point\n\n        _currPoint.x = p.x;\n        _currPoint.y = p.y;\n\n        // check if one of two points changed\n        if( !delta.x && !delta.y && _isEqualPoints(_currentPoints[1], p2) ) {\n          return;\n        }\n\n        _equalizePoints(p2, _currentPoints[1]);\n\n\n        if(!_zoomStarted) {\n          _zoomStarted = true;\n          _shout('zoomGestureStarted');\n        }\n\n        // Distance between two points\n        var pointsDistance = _calculatePointsDistance(p,p2);\n\n        var zoomLevel = _calculateZoomLevel(pointsDistance);\n\n        // slightly over the of initial zoom level\n        if(zoomLevel > self.currItem.initialZoomLevel + self.currItem.initialZoomLevel / 15) {\n          _wasOverInitialZoom = true;\n        }\n\n        // Apply the friction if zoom level is out of the bounds\n        var zoomFriction = 1,\n          minZoomLevel = _getMinZoomLevel(),\n          maxZoomLevel = _getMaxZoomLevel();\n\n        if ( zoomLevel < minZoomLevel ) {\n\n          if(_options.pinchToClose && !_wasOverInitialZoom && _startZoomLevel <= self.currItem.initialZoomLevel) {\n            // fade out background if zooming out\n            var minusDiff = minZoomLevel - zoomLevel;\n            var percent = 1 - minusDiff / (minZoomLevel / 1.2);\n\n            _applyBgOpacity(percent);\n            _shout('onPinchClose', percent);\n            _opacityChanged = true;\n          } else {\n            zoomFriction = (minZoomLevel - zoomLevel) / minZoomLevel;\n            if(zoomFriction > 1) {\n              zoomFriction = 1;\n            }\n            zoomLevel = minZoomLevel - zoomFriction * (minZoomLevel / 3);\n          }\n\n        } else if ( zoomLevel > maxZoomLevel ) {\n          // 1.5 - extra zoom level above the max. E.g. if max is x6, real max 6 + 1.5 = 7.5\n          zoomFriction = (zoomLevel - maxZoomLevel) / ( minZoomLevel * 6 );\n          if(zoomFriction > 1) {\n            zoomFriction = 1;\n          }\n          zoomLevel = maxZoomLevel + zoomFriction * minZoomLevel;\n        }\n\n        if(zoomFriction < 0) {\n          zoomFriction = 0;\n        }\n\n        // distance between touch points after friction is applied\n        _currPointsDistance = pointsDistance;\n\n        // _centerPoint - The point in the middle of two pointers\n        _findCenterOfPoints(p, p2, _centerPoint);\n\n        // paning with two pointers pressed\n        _currPanDist.x += _centerPoint.x - _currCenterPoint.x;\n        _currPanDist.y += _centerPoint.y - _currCenterPoint.y;\n        _equalizePoints(_currCenterPoint, _centerPoint);\n\n        _panOffset.x = _calculatePanOffset('x', zoomLevel);\n        _panOffset.y = _calculatePanOffset('y', zoomLevel);\n\n        _isZoomingIn = zoomLevel > _currZoomLevel;\n        _currZoomLevel = zoomLevel;\n        _applyCurrentZoomPan();\n\n      } else {\n\n        // handle behaviour for one point (dragging or panning)\n\n        if(!_direction) {\n          return;\n        }\n\n        if(_isFirstMove) {\n          _isFirstMove = false;\n\n          // subtract drag distance that was used during the detection direction\n\n          if( Math.abs(delta.x) >= DIRECTION_CHECK_OFFSET) {\n            delta.x -= _currentPoints[0].x - _startPoint.x;\n          }\n\n          if( Math.abs(delta.y) >= DIRECTION_CHECK_OFFSET) {\n            delta.y -= _currentPoints[0].y - _startPoint.y;\n          }\n        }\n\n        _currPoint.x = p.x;\n        _currPoint.y = p.y;\n\n        // do nothing if pointers position hasn't changed\n        if(delta.x === 0 && delta.y === 0) {\n          return;\n        }\n\n        if(_direction === 'v' && _options.closeOnVerticalDrag) {\n          if(!_canPan()) {\n            _currPanDist.y += delta.y;\n            _panOffset.y += delta.y;\n\n            var opacityRatio = _calculateVerticalDragOpacityRatio();\n\n            _verticalDragInitiated = true;\n            _shout('onVerticalDrag', opacityRatio);\n\n            _applyBgOpacity(opacityRatio);\n            _applyCurrentZoomPan();\n            return ;\n          }\n        }\n\n        _pushPosPoint(_getCurrentTime(), p.x, p.y);\n\n        _moved = true;\n        _currPanBounds = self.currItem.bounds;\n\n        var mainScrollChanged = _panOrMoveMainScroll('x', delta);\n        if(!mainScrollChanged) {\n          _panOrMoveMainScroll('y', delta);\n\n          _roundPoint(_panOffset);\n          _applyCurrentZoomPan();\n        }\n\n      }\n\n    },\n\n    // Pointerup/pointercancel/touchend/touchcancel/mouseup event handler\n    _onDragRelease = function(e) {\n\n      if(_features.isOldAndroid ) {\n\n        if(_oldAndroidTouchEndTimeout && e.type === 'mouseup') {\n          return;\n        }\n\n        // on Android (v4.1, 4.2, 4.3 & possibly older)\n        // ghost mousedown/up event isn't preventable via e.preventDefault,\n        // which causes fake mousedown event\n        // so we block mousedown/up for 600ms\n        if( e.type.indexOf('touch') > -1 ) {\n          clearTimeout(_oldAndroidTouchEndTimeout);\n          _oldAndroidTouchEndTimeout = setTimeout(function() {\n            _oldAndroidTouchEndTimeout = 0;\n          }, 600);\n        }\n\n      }\n\n      _shout('pointerUp');\n\n      if(_preventDefaultEventBehaviour(e, false)) {\n        e.preventDefault();\n      }\n\n      var releasePoint;\n\n      if(_pointerEventEnabled) {\n        var pointerIndex = framework.arraySearch(_currPointers, e.pointerId, 'id');\n\n        if(pointerIndex > -1) {\n          releasePoint = _currPointers.splice(pointerIndex, 1)[0];\n\n          if(navigator.pointerEnabled) {\n            releasePoint.type = e.pointerType || 'mouse';\n          } else {\n            var MSPOINTER_TYPES = {\n              4: 'mouse', // event.MSPOINTER_TYPE_MOUSE\n              2: 'touch', // event.MSPOINTER_TYPE_TOUCH\n              3: 'pen' // event.MSPOINTER_TYPE_PEN\n            };\n            releasePoint.type = MSPOINTER_TYPES[e.pointerType];\n\n            if(!releasePoint.type) {\n              releasePoint.type = e.pointerType || 'mouse';\n            }\n          }\n\n        }\n      }\n\n      var touchList = _getTouchPoints(e),\n        gestureType,\n        numPoints = touchList.length;\n\n      if(e.type === 'mouseup') {\n        numPoints = 0;\n      }\n\n      // Do nothing if there were 3 touch points or more\n      if(numPoints === 2) {\n        _currentPoints = null;\n        return true;\n      }\n\n      // if second pointer released\n      if(numPoints === 1) {\n        _equalizePoints(_startPoint, touchList[0]);\n      }\n\n\n      // pointer hasn't moved, send \"tap release\" point\n      if(numPoints === 0 && !_direction && !_mainScrollAnimating) {\n        if(!releasePoint) {\n          if(e.type === 'mouseup') {\n            releasePoint = {x: e.pageX, y: e.pageY, type:'mouse'};\n          } else if(e.changedTouches && e.changedTouches[0]) {\n            releasePoint = {x: e.changedTouches[0].pageX, y: e.changedTouches[0].pageY, type:'touch'};\n          }\n        }\n\n        _shout('touchRelease', e, releasePoint);\n      }\n\n      // Difference in time between releasing of two last touch points (zoom gesture)\n      var releaseTimeDiff = -1;\n\n      // Gesture completed, no pointers left\n      if(numPoints === 0) {\n        _isDragging = false;\n        framework.unbind(window, _upMoveEvents, self);\n\n        _stopDragUpdateLoop();\n\n        if(_isZooming) {\n          // Two points released at the same time\n          releaseTimeDiff = 0;\n        } else if(_lastReleaseTime !== -1) {\n          releaseTimeDiff = _getCurrentTime() - _lastReleaseTime;\n        }\n      }\n      _lastReleaseTime = numPoints === 1 ? _getCurrentTime() : -1;\n\n      if(releaseTimeDiff !== -1 && releaseTimeDiff < 150) {\n        gestureType = 'zoom';\n      } else {\n        gestureType = 'swipe';\n      }\n\n      if(_isZooming && numPoints < 2) {\n        _isZooming = false;\n\n        // Only second point released\n        if(numPoints === 1) {\n          gestureType = 'zoomPointerUp';\n        }\n        _shout('zoomGestureEnded');\n      }\n\n      _currentPoints = null;\n      if(!_moved && !_zoomStarted && !_mainScrollAnimating && !_verticalDragInitiated) {\n        // nothing to animate\n        return;\n      }\n\n      _stopAllAnimations();\n\n\n      if(!_releaseAnimData) {\n        _releaseAnimData = _initDragReleaseAnimationData();\n      }\n\n      _releaseAnimData.calculateSwipeSpeed('x');\n\n\n      if(_verticalDragInitiated) {\n\n        var opacityRatio = _calculateVerticalDragOpacityRatio();\n\n        if(opacityRatio < _options.verticalDragRange) {\n          self.close();\n        } else {\n          var initalPanY = _panOffset.y,\n            initialBgOpacity = _bgOpacity;\n\n          _animateProp('verticalDrag', 0, 1, 300, framework.easing.cubic.out, function(now) {\n\n            _panOffset.y = (self.currItem.initialPosition.y - initalPanY) * now + initalPanY;\n\n            _applyBgOpacity(  (1 - initialBgOpacity) * now + initialBgOpacity );\n            _applyCurrentZoomPan();\n          });\n\n          _shout('onVerticalDrag', 1);\n        }\n\n        return;\n      }\n\n\n      // main scroll\n      if(  (_mainScrollShifted || _mainScrollAnimating) && numPoints === 0) {\n        var itemChanged = _finishSwipeMainScrollGesture(gestureType, _releaseAnimData);\n        if(itemChanged) {\n          return;\n        }\n        gestureType = 'zoomPointerUp';\n      }\n\n      // prevent zoom/pan animation when main scroll animation runs\n      if(_mainScrollAnimating) {\n        return;\n      }\n\n      // Complete simple zoom gesture (reset zoom level if it's out of the bounds)\n      if(gestureType !== 'swipe') {\n        _completeZoomGesture();\n        return;\n      }\n\n      // Complete pan gesture if main scroll is not shifted, and it's possible to pan current image\n      if(!_mainScrollShifted && _currZoomLevel > self.currItem.fitRatio) {\n        _completePanGesture(_releaseAnimData);\n      }\n    },\n\n\n    // Returns object with data about gesture\n    // It's created only once and then reused\n    _initDragReleaseAnimationData  = function() {\n      // temp local vars\n      var lastFlickDuration,\n        tempReleasePos;\n\n      // s = this\n      var s = {\n        lastFlickOffset: {},\n        lastFlickDist: {},\n        lastFlickSpeed: {},\n        slowDownRatio:  {},\n        slowDownRatioReverse:  {},\n        speedDecelerationRatio:  {},\n        speedDecelerationRatioAbs:  {},\n        distanceOffset:  {},\n        backAnimDestination: {},\n        backAnimStarted: {},\n        calculateSwipeSpeed: function(axis) {\n\n\n          if( _posPoints.length > 1) {\n            lastFlickDuration = _getCurrentTime() - _gestureCheckSpeedTime + 50;\n            tempReleasePos = _posPoints[_posPoints.length-2][axis];\n          } else {\n            lastFlickDuration = _getCurrentTime() - _gestureStartTime; // total gesture duration\n            tempReleasePos = _startPoint[axis];\n          }\n          s.lastFlickOffset[axis] = _currPoint[axis] - tempReleasePos;\n          s.lastFlickDist[axis] = Math.abs(s.lastFlickOffset[axis]);\n          if(s.lastFlickDist[axis] > 20) {\n            s.lastFlickSpeed[axis] = s.lastFlickOffset[axis] / lastFlickDuration;\n          } else {\n            s.lastFlickSpeed[axis] = 0;\n          }\n          if( Math.abs(s.lastFlickSpeed[axis]) < 0.1 ) {\n            s.lastFlickSpeed[axis] = 0;\n          }\n\n          s.slowDownRatio[axis] = 0.95;\n          s.slowDownRatioReverse[axis] = 1 - s.slowDownRatio[axis];\n          s.speedDecelerationRatio[axis] = 1;\n        },\n\n        calculateOverBoundsAnimOffset: function(axis, speed) {\n          if(!s.backAnimStarted[axis]) {\n\n            if(_panOffset[axis] > _currPanBounds.min[axis]) {\n              s.backAnimDestination[axis] = _currPanBounds.min[axis];\n\n            } else if(_panOffset[axis] < _currPanBounds.max[axis]) {\n              s.backAnimDestination[axis] = _currPanBounds.max[axis];\n            }\n\n            if(s.backAnimDestination[axis] !== undefined) {\n              s.slowDownRatio[axis] = 0.7;\n              s.slowDownRatioReverse[axis] = 1 - s.slowDownRatio[axis];\n              if(s.speedDecelerationRatioAbs[axis] < 0.05) {\n\n                s.lastFlickSpeed[axis] = 0;\n                s.backAnimStarted[axis] = true;\n\n                _animateProp('bounceZoomPan'+axis,_panOffset[axis],\n                  s.backAnimDestination[axis],\n                  speed || 300,\n                  framework.easing.sine.out,\n                  function(pos) {\n                    _panOffset[axis] = pos;\n                    _applyCurrentZoomPan();\n                  }\n                );\n\n              }\n            }\n          }\n        },\n\n        // Reduces the speed by slowDownRatio (per 10ms)\n        calculateAnimOffset: function(axis) {\n          if(!s.backAnimStarted[axis]) {\n            s.speedDecelerationRatio[axis] = s.speedDecelerationRatio[axis] * (s.slowDownRatio[axis] +\n              s.slowDownRatioReverse[axis] -\n              s.slowDownRatioReverse[axis] * s.timeDiff / 10);\n\n            s.speedDecelerationRatioAbs[axis] = Math.abs(s.lastFlickSpeed[axis] * s.speedDecelerationRatio[axis]);\n            s.distanceOffset[axis] = s.lastFlickSpeed[axis] * s.speedDecelerationRatio[axis] * s.timeDiff;\n            _panOffset[axis] += s.distanceOffset[axis];\n\n          }\n        },\n\n        panAnimLoop: function() {\n          if ( _animations.zoomPan ) {\n            _animations.zoomPan.raf = _requestAF(s.panAnimLoop);\n\n            s.now = _getCurrentTime();\n            s.timeDiff = s.now - s.lastNow;\n            s.lastNow = s.now;\n\n            s.calculateAnimOffset('x');\n            s.calculateAnimOffset('y');\n\n            _applyCurrentZoomPan();\n\n            s.calculateOverBoundsAnimOffset('x');\n            s.calculateOverBoundsAnimOffset('y');\n\n\n            if (s.speedDecelerationRatioAbs.x < 0.05 && s.speedDecelerationRatioAbs.y < 0.05) {\n\n              // round pan position\n              _panOffset.x = Math.round(_panOffset.x);\n              _panOffset.y = Math.round(_panOffset.y);\n              _applyCurrentZoomPan();\n\n              _stopAnimation('zoomPan');\n              return;\n            }\n          }\n\n        }\n      };\n      return s;\n    },\n\n    _completePanGesture = function(animData) {\n      // calculate swipe speed for Y axis (paanning)\n      animData.calculateSwipeSpeed('y');\n\n      _currPanBounds = self.currItem.bounds;\n\n      animData.backAnimDestination = {};\n      animData.backAnimStarted = {};\n\n      // Avoid acceleration animation if speed is too low\n      if(Math.abs(animData.lastFlickSpeed.x) <= 0.05 && Math.abs(animData.lastFlickSpeed.y) <= 0.05 ) {\n        animData.speedDecelerationRatioAbs.x = animData.speedDecelerationRatioAbs.y = 0;\n\n        // Run pan drag release animation. E.g. if you drag image and release finger without momentum.\n        animData.calculateOverBoundsAnimOffset('x');\n        animData.calculateOverBoundsAnimOffset('y');\n        return true;\n      }\n\n      // Animation loop that controls the acceleration after pan gesture ends\n      _registerStartAnimation('zoomPan');\n      animData.lastNow = _getCurrentTime();\n      animData.panAnimLoop();\n    },\n\n\n    _finishSwipeMainScrollGesture = function(gestureType, _releaseAnimData) {\n      var itemChanged;\n      if(!_mainScrollAnimating) {\n        _currZoomedItemIndex = _currentItemIndex;\n      }\n\n\n\n      var itemsDiff;\n\n      if(gestureType === 'swipe') {\n        var totalShiftDist = _currPoint.x - _startPoint.x,\n          isFastLastFlick = _releaseAnimData.lastFlickDist.x < 10;\n\n        // if container is shifted for more than MIN_SWIPE_DISTANCE,\n        // and last flick gesture was in right direction\n        if(totalShiftDist > MIN_SWIPE_DISTANCE &&\n          (isFastLastFlick || _releaseAnimData.lastFlickOffset.x > 20) ) {\n          // go to prev item\n          itemsDiff = -1;\n        } else if(totalShiftDist < -MIN_SWIPE_DISTANCE &&\n          (isFastLastFlick || _releaseAnimData.lastFlickOffset.x < -20) ) {\n          // go to next item\n          itemsDiff = 1;\n        }\n      }\n\n      var nextCircle;\n\n      if(itemsDiff) {\n\n        _currentItemIndex += itemsDiff;\n\n        if(_currentItemIndex < 0) {\n          _currentItemIndex = _options.loop ? _getNumItems()-1 : 0;\n          nextCircle = true;\n        } else if(_currentItemIndex >= _getNumItems()) {\n          _currentItemIndex = _options.loop ? 0 : _getNumItems()-1;\n          nextCircle = true;\n        }\n\n        if(!nextCircle || _options.loop) {\n          _indexDiff += itemsDiff;\n          _currPositionIndex -= itemsDiff;\n          itemChanged = true;\n        }\n\n\n\n      }\n\n      var animateToX = _slideSize.x * _currPositionIndex;\n      var animateToDist = Math.abs( animateToX - _mainScrollPos.x );\n      var finishAnimDuration;\n\n\n      if(!itemChanged && animateToX > _mainScrollPos.x !== _releaseAnimData.lastFlickSpeed.x > 0) {\n        // \"return to current\" duration, e.g. when dragging from slide 0 to -1\n        finishAnimDuration = 333;\n      } else {\n        finishAnimDuration = Math.abs(_releaseAnimData.lastFlickSpeed.x) > 0 ?\n          animateToDist / Math.abs(_releaseAnimData.lastFlickSpeed.x) :\n          333;\n\n        finishAnimDuration = Math.min(finishAnimDuration, 400);\n        finishAnimDuration = Math.max(finishAnimDuration, 250);\n      }\n\n      if(_currZoomedItemIndex === _currentItemIndex) {\n        itemChanged = false;\n      }\n\n      _mainScrollAnimating = true;\n\n      _shout('mainScrollAnimStart');\n\n      _animateProp('mainScroll', _mainScrollPos.x, animateToX, finishAnimDuration, framework.easing.cubic.out,\n        _moveMainScroll,\n        function() {\n          _stopAllAnimations();\n          _mainScrollAnimating = false;\n          _currZoomedItemIndex = -1;\n\n          if(itemChanged || _currZoomedItemIndex !== _currentItemIndex) {\n            self.updateCurrItem();\n          }\n\n          _shout('mainScrollAnimComplete');\n        }\n      );\n\n      if(itemChanged) {\n        self.updateCurrItem(true);\n      }\n\n      return itemChanged;\n    },\n\n    _calculateZoomLevel = function(touchesDistance) {\n      return  1 / _startPointsDistance * touchesDistance * _startZoomLevel;\n    },\n\n    // Resets zoom if it's out of bounds\n    _completeZoomGesture = function() {\n      var destZoomLevel = _currZoomLevel,\n        minZoomLevel = _getMinZoomLevel(),\n        maxZoomLevel = _getMaxZoomLevel();\n\n      if ( _currZoomLevel < minZoomLevel ) {\n        destZoomLevel = minZoomLevel;\n      } else if ( _currZoomLevel > maxZoomLevel ) {\n        destZoomLevel = maxZoomLevel;\n      }\n\n      var destOpacity = 1,\n        onUpdate,\n        initialOpacity = _bgOpacity;\n\n      if(_opacityChanged && !_isZoomingIn && !_wasOverInitialZoom && _currZoomLevel < minZoomLevel) {\n        //_closedByScroll = true;\n        self.close();\n        return true;\n      }\n\n      if(_opacityChanged) {\n        onUpdate = function(now) {\n          _applyBgOpacity(  (destOpacity - initialOpacity) * now + initialOpacity );\n        };\n      }\n\n      self.zoomTo(destZoomLevel, 0, 200,  framework.easing.cubic.out, onUpdate);\n      return true;\n    };\n\n\n  _registerModule('Gestures', {\n    publicMethods: {\n\n      initGestures: function() {\n\n        // helper function that builds touch/pointer/mouse events\n        var addEventNames = function(pref, down, move, up, cancel) {\n          _dragStartEvent = pref + down;\n          _dragMoveEvent = pref + move;\n          _dragEndEvent = pref + up;\n          if(cancel) {\n            _dragCancelEvent = pref + cancel;\n          } else {\n            _dragCancelEvent = '';\n          }\n        };\n\n        _pointerEventEnabled = _features.pointerEvent;\n        if(_pointerEventEnabled && _features.touch) {\n          // we don't need touch events, if browser supports pointer events\n          _features.touch = false;\n        }\n\n        if(_pointerEventEnabled) {\n          if(navigator.pointerEnabled) {\n            addEventNames('pointer', 'down', 'move', 'up', 'cancel');\n          } else {\n            // IE10 pointer events are case-sensitive\n            addEventNames('MSPointer', 'Down', 'Move', 'Up', 'Cancel');\n          }\n        } else if(_features.touch) {\n          addEventNames('touch', 'start', 'move', 'end', 'cancel');\n          _likelyTouchDevice = true;\n        } else {\n          addEventNames('mouse', 'down', 'move', 'up');\n        }\n\n        _upMoveEvents = _dragMoveEvent + ' ' + _dragEndEvent  + ' ' +  _dragCancelEvent;\n        _downEvents = _dragStartEvent;\n\n        if(_pointerEventEnabled && !_likelyTouchDevice) {\n          _likelyTouchDevice = (navigator.maxTouchPoints > 1) || (navigator.msMaxTouchPoints > 1);\n        }\n        // make variable public\n        self.likelyTouchDevice = _likelyTouchDevice;\n\n        _globalEventHandlers[_dragStartEvent] = _onDragStart;\n        _globalEventHandlers[_dragMoveEvent] = _onDragMove;\n        _globalEventHandlers[_dragEndEvent] = _onDragRelease; // the Kraken\n\n        if(_dragCancelEvent) {\n          _globalEventHandlers[_dragCancelEvent] = _globalEventHandlers[_dragEndEvent];\n        }\n\n        // Bind mouse events on device with detected hardware touch support, in case it supports multiple types of input.\n        if(_features.touch) {\n          _downEvents += ' mousedown';\n          _upMoveEvents += ' mousemove mouseup';\n          _globalEventHandlers.mousedown = _globalEventHandlers[_dragStartEvent];\n          _globalEventHandlers.mousemove = _globalEventHandlers[_dragMoveEvent];\n          _globalEventHandlers.mouseup = _globalEventHandlers[_dragEndEvent];\n        }\n\n        if(!_likelyTouchDevice) {\n          // don't allow pan to next slide from zoomed state on Desktop\n          _options.allowPanToNext = false;\n        }\n      }\n\n    }\n  });\n\n\n  /*>>gestures*/\n\n  /*>>show-hide-transition*/\n  /**\n   * show-hide-transition.js:\n   *\n   * Manages initial opening or closing transition.\n   *\n   * If you're not planning to use transition for gallery at all,\n   * you may set options hideAnimationDuration and showAnimationDuration to 0,\n   * and just delete startAnimation function.\n   *\n   */\n\n\n  var _showOrHideTimeout,\n    _showOrHide = function(item, img, out, completeFn) {\n\n      if(_showOrHideTimeout) {\n        clearTimeout(_showOrHideTimeout);\n      }\n\n      _initialZoomRunning = true;\n      _initialContentSet = true;\n\n      // dimensions of small thumbnail {x:,y:,w:}.\n      // Height is optional, as calculated based on large image.\n      var thumbBounds;\n      if(item.initialLayout) {\n        thumbBounds = item.initialLayout;\n        item.initialLayout = null;\n      } else {\n        thumbBounds = _options.getThumbBoundsFn && _options.getThumbBoundsFn(_currentItemIndex);\n      }\n\n      var duration = out ? _options.hideAnimationDuration : _options.showAnimationDuration;\n\n      var onComplete = function() {\n        _stopAnimation('initialZoom');\n        if(!out) {\n          _applyBgOpacity(1);\n          if(img) {\n            img.style.display = 'block';\n          }\n          framework.addClass(template, 'pswp--animated-in');\n          _shout('initialZoom' + (out ? 'OutEnd' : 'InEnd'));\n        } else {\n          self.template.removeAttribute('style');\n          self.bg.removeAttribute('style');\n        }\n\n        if(completeFn) {\n          completeFn();\n        }\n        _initialZoomRunning = false;\n      };\n\n      // if bounds aren't provided, just open gallery without animation\n      if(!duration || !thumbBounds || thumbBounds.x === undefined) {\n\n        _shout('initialZoom' + (out ? 'Out' : 'In') );\n\n        _currZoomLevel = item.initialZoomLevel;\n        _equalizePoints(_panOffset,  item.initialPosition );\n        _applyCurrentZoomPan();\n\n        template.style.opacity = out ? 0 : 1;\n        _applyBgOpacity(1);\n\n        if(duration) {\n          setTimeout(function() {\n            onComplete();\n          }, duration);\n        } else {\n          onComplete();\n        }\n\n        return;\n      }\n\n      var startAnimation = function() {\n        var closeWithRaf = _closedByScroll,\n          fadeEverything = !self.currItem.src || self.currItem.loadError || _options.showHideOpacity;\n\n        // apply hw-acceleration to image\n        if(item.miniImg) {\n          item.miniImg.style.webkitBackfaceVisibility = 'hidden';\n        }\n\n        if(!out) {\n          _currZoomLevel = thumbBounds.w / item.w;\n          _panOffset.x = thumbBounds.x;\n          _panOffset.y = thumbBounds.y - _initalWindowScrollY;\n\n          self[fadeEverything ? 'template' : 'bg'].style.opacity = 0.001;\n          _applyCurrentZoomPan();\n        }\n\n        _registerStartAnimation('initialZoom');\n\n        if(out && !closeWithRaf) {\n          framework.removeClass(template, 'pswp--animated-in');\n        }\n\n        if(fadeEverything) {\n          if(out) {\n            framework[ (closeWithRaf ? 'remove' : 'add') + 'Class' ](template, 'pswp--animate_opacity');\n          } else {\n            setTimeout(function() {\n              framework.addClass(template, 'pswp--animate_opacity');\n            }, 30);\n          }\n        }\n\n        _showOrHideTimeout = setTimeout(function() {\n\n          _shout('initialZoom' + (out ? 'Out' : 'In') );\n\n\n          if(!out) {\n\n            // \"in\" animation always uses CSS transitions (instead of rAF).\n            // CSS transition work faster here,\n            // as developer may also want to animate other things,\n            // like ui on top of sliding area, which can be animated just via CSS\n\n            _currZoomLevel = item.initialZoomLevel;\n            _equalizePoints(_panOffset,  item.initialPosition );\n            _applyCurrentZoomPan();\n            _applyBgOpacity(1);\n\n            if(fadeEverything) {\n              template.style.opacity = 1;\n            } else {\n              _applyBgOpacity(1);\n            }\n\n            _showOrHideTimeout = setTimeout(onComplete, duration + 20);\n          } else {\n\n            // \"out\" animation uses rAF only when PhotoSwipe is closed by browser scroll, to recalculate position\n            var destZoomLevel = thumbBounds.w / item.w,\n              initialPanOffset = {\n                x: _panOffset.x,\n                y: _panOffset.y\n              },\n              initialZoomLevel = _currZoomLevel,\n              initalBgOpacity = _bgOpacity,\n              onUpdate = function(now) {\n\n                if(now === 1) {\n                  _currZoomLevel = destZoomLevel;\n                  _panOffset.x = thumbBounds.x;\n                  _panOffset.y = thumbBounds.y  - _currentWindowScrollY;\n                } else {\n                  _currZoomLevel = (destZoomLevel - initialZoomLevel) * now + initialZoomLevel;\n                  _panOffset.x = (thumbBounds.x - initialPanOffset.x) * now + initialPanOffset.x;\n                  _panOffset.y = (thumbBounds.y - _currentWindowScrollY - initialPanOffset.y) * now + initialPanOffset.y;\n                }\n\n                _applyCurrentZoomPan();\n                if(fadeEverything) {\n                  template.style.opacity = 1 - now;\n                } else {\n                  _applyBgOpacity( initalBgOpacity - now * initalBgOpacity );\n                }\n              };\n\n            if(closeWithRaf) {\n              _animateProp('initialZoom', 0, 1, duration, framework.easing.cubic.out, onUpdate, onComplete);\n            } else {\n              onUpdate(1);\n              _showOrHideTimeout = setTimeout(onComplete, duration + 20);\n            }\n          }\n\n        }, out ? 25 : 90); // Main purpose of this delay is to give browser time to paint and\n        // create composite layers of PhotoSwipe UI parts (background, controls, caption, arrows).\n        // Which avoids lag at the beginning of scale transition.\n      };\n      startAnimation();\n\n\n    };\n\n  /*>>show-hide-transition*/\n\n  /*>>items-controller*/\n  /**\n   *\n   * Controller manages gallery items, their dimensions, and their content.\n   *\n   */\n\n  var _items,\n    _tempPanAreaSize = {},\n    _imagesToAppendPool = [],\n    _initialContentSet,\n    _initialZoomRunning,\n    _controllerDefaultOptions = {\n      index: 0,\n      errorMsg: '<div class=\"pswp__error-msg\"><a href=\"%url%\" target=\"_blank\">The image</a> could not be loaded.</div>',\n      forceProgressiveLoading: false, // TODO\n      preload: [1,1],\n      getNumItemsFn: function() {\n        return _items.length;\n      }\n    };\n\n\n  var _getItemAt,\n    _getNumItems,\n    _initialIsLoop,\n    _getZeroBounds = function() {\n      return {\n        center:{x:0,y:0},\n        max:{x:0,y:0},\n        min:{x:0,y:0}\n      };\n    },\n    _calculateSingleItemPanBounds = function(item, realPanElementW, realPanElementH ) {\n      var bounds = item.bounds;\n\n      // position of element when it's centered\n      bounds.center.x = Math.round((_tempPanAreaSize.x - realPanElementW) / 2);\n      bounds.center.y = Math.round((_tempPanAreaSize.y - realPanElementH) / 2) + item.vGap.top;\n\n      // maximum pan position\n      bounds.max.x = (realPanElementW > _tempPanAreaSize.x) ?\n        Math.round(_tempPanAreaSize.x - realPanElementW) :\n        bounds.center.x;\n\n      bounds.max.y = (realPanElementH > _tempPanAreaSize.y) ?\n        Math.round(_tempPanAreaSize.y - realPanElementH) + item.vGap.top :\n        bounds.center.y;\n\n      // minimum pan position\n      bounds.min.x = (realPanElementW > _tempPanAreaSize.x) ? 0 : bounds.center.x;\n      bounds.min.y = (realPanElementH > _tempPanAreaSize.y) ? item.vGap.top : bounds.center.y;\n    },\n    _calculateItemSize = function(item, viewportSize, zoomLevel) {\n\n      if (item.src && !item.loadError) {\n        var isInitial = !zoomLevel;\n\n        if(isInitial) {\n          if(!item.vGap) {\n            item.vGap = {top:0,bottom:0};\n          }\n          // allows overriding vertical margin for individual items\n          _shout('parseVerticalMargin', item);\n        }\n\n\n        _tempPanAreaSize.x = viewportSize.x;\n        _tempPanAreaSize.y = viewportSize.y - item.vGap.top - item.vGap.bottom;\n\n        if (isInitial) {\n          var hRatio = _tempPanAreaSize.x / item.w;\n          var vRatio = _tempPanAreaSize.y / item.h;\n\n          item.fitRatio = hRatio < vRatio ? hRatio : vRatio;\n          //item.fillRatio = hRatio > vRatio ? hRatio : vRatio;\n\n          var scaleMode = _options.scaleMode;\n\n          if (scaleMode === 'orig') {\n            zoomLevel = 1;\n          } else if (scaleMode === 'fit') {\n            zoomLevel = item.fitRatio;\n          }\n\n          if (zoomLevel > 1) {\n            zoomLevel = 1;\n          }\n\n          item.initialZoomLevel = zoomLevel;\n\n          if(!item.bounds) {\n            // reuse bounds object\n            item.bounds = _getZeroBounds();\n          }\n        }\n\n        if(!zoomLevel) {\n          return;\n        }\n\n        _calculateSingleItemPanBounds(item, item.w * zoomLevel, item.h * zoomLevel);\n\n        if (isInitial && zoomLevel === item.initialZoomLevel) {\n          item.initialPosition = item.bounds.center;\n        }\n\n        return item.bounds;\n      } else {\n        item.w = item.h = 0;\n        item.initialZoomLevel = item.fitRatio = 1;\n        item.bounds = _getZeroBounds();\n        item.initialPosition = item.bounds.center;\n\n        // if it's not image, we return zero bounds (content is not zoomable)\n        return item.bounds;\n      }\n\n    },\n\n\n\n\n    _appendImage = function(index, item, baseDiv, img, preventAnimation, keepPlaceholder) {\n\n\n      if(item.loadError) {\n        return;\n      }\n\n      if(img) {\n\n        item.imageAppended = true;\n        _setImageSize(item, img, (item === self.currItem && _renderMaxResolution) );\n\n        baseDiv.appendChild(img);\n\n        if(keepPlaceholder) {\n          setTimeout(function() {\n            if(item && item.loaded && item.placeholder) {\n              item.placeholder.style.display = 'none';\n              item.placeholder = null;\n            }\n          }, 500);\n        }\n      }\n    },\n\n\n\n    _preloadImage = function(item) {\n      item.loading = true;\n      item.loaded = false;\n      var img = item.img = framework.createEl('pswp__img', 'img');\n      var onComplete = function() {\n        item.loading = false;\n        item.loaded = true;\n\n        if(item.loadComplete) {\n          item.loadComplete(item);\n        } else {\n          item.img = null; // no need to store image object\n        }\n        img.onload = img.onerror = null;\n        img = null;\n      };\n      img.onload = onComplete;\n      img.onerror = function() {\n        item.loadError = true;\n        onComplete();\n      };\n\n      img.src = item.src;// + '?a=' + Math.random();\n\n      return img;\n    },\n    _checkForError = function(item, cleanUp) {\n      if(item.src && item.loadError && item.container) {\n\n        if(cleanUp) {\n          item.container.innerHTML = '';\n        }\n\n        item.container.innerHTML = _options.errorMsg.replace('%url%',  item.src );\n        return true;\n\n      }\n    },\n    _setImageSize = function(item, img, maxRes) {\n      if(!item.src) {\n        return;\n      }\n\n      if(!img) {\n        img = item.container.lastChild;\n      }\n\n      var w = maxRes ? item.w : Math.round(item.w * item.fitRatio),\n        h = maxRes ? item.h : Math.round(item.h * item.fitRatio);\n\n      if(item.placeholder && !item.loaded) {\n        item.placeholder.style.width = w + 'px';\n        item.placeholder.style.height = h + 'px';\n      }\n\n      img.style.width = w + 'px';\n      img.style.height = h + 'px';\n    },\n    _appendImagesPool = function() {\n\n      if(_imagesToAppendPool.length) {\n        var poolItem;\n\n        for(var i = 0; i < _imagesToAppendPool.length; i++) {\n          poolItem = _imagesToAppendPool[i];\n          if( poolItem.holder.index === poolItem.index ) {\n            _appendImage(poolItem.index, poolItem.item, poolItem.baseDiv, poolItem.img, false, poolItem.clearPlaceholder);\n          }\n        }\n        _imagesToAppendPool = [];\n      }\n    };\n\n\n\n  _registerModule('Controller', {\n\n    publicMethods: {\n\n      lazyLoadItem: function(index) {\n        index = _getLoopedId(index);\n        var item = _getItemAt(index);\n\n        if(!item || ((item.loaded || item.loading) && !_itemsNeedUpdate)) {\n          return;\n        }\n\n        _shout('gettingData', index, item);\n\n        if (!item.src) {\n          return;\n        }\n\n        _preloadImage(item);\n      },\n      initController: function() {\n        framework.extend(_options, _controllerDefaultOptions, true);\n        self.items = _items = items;\n        _getItemAt = self.getItemAt;\n        _getNumItems = _options.getNumItemsFn; //self.getNumItems;\n\n\n\n        _initialIsLoop = _options.loop;\n        if(_getNumItems() < 3) {\n          _options.loop = false; // disable loop if less then 3 items\n        }\n\n        _listen('beforeChange', function(diff) {\n\n          var p = _options.preload,\n            isNext = diff === null ? true : (diff >= 0),\n            preloadBefore = Math.min(p[0], _getNumItems() ),\n            preloadAfter = Math.min(p[1], _getNumItems() ),\n            i;\n\n\n          for(i = 1; i <= (isNext ? preloadAfter : preloadBefore); i++) {\n            self.lazyLoadItem(_currentItemIndex+i);\n          }\n          for(i = 1; i <= (isNext ? preloadBefore : preloadAfter); i++) {\n            self.lazyLoadItem(_currentItemIndex-i);\n          }\n        });\n\n        _listen('initialLayout', function() {\n          self.currItem.initialLayout = _options.getThumbBoundsFn && _options.getThumbBoundsFn(_currentItemIndex);\n        });\n\n        _listen('mainScrollAnimComplete', _appendImagesPool);\n        _listen('initialZoomInEnd', _appendImagesPool);\n\n\n\n        _listen('destroy', function() {\n          var item;\n          for(var i = 0; i < _items.length; i++) {\n            item = _items[i];\n            // remove reference to DOM elements, for GC\n            if(item.container) {\n              item.container = null;\n            }\n            if(item.placeholder) {\n              item.placeholder = null;\n            }\n            if(item.img) {\n              item.img = null;\n            }\n            if(item.preloader) {\n              item.preloader = null;\n            }\n            if(item.loadError) {\n              item.loaded = item.loadError = false;\n            }\n          }\n          _imagesToAppendPool = null;\n        });\n      },\n\n\n      getItemAt: function(index) {\n        if (index >= 0) {\n          return _items[index] !== undefined ? _items[index] : false;\n        }\n        return false;\n      },\n\n      allowProgressiveImg: function() {\n        // 1. Progressive image loading isn't working on webkit/blink\n        //    when hw-acceleration (e.g. translateZ) is applied to IMG element.\n        //    That's why in PhotoSwipe parent element gets zoom transform, not image itself.\n        //\n        // 2. Progressive image loading sometimes blinks in webkit/blink when applying animation to parent element.\n        //    That's why it's disabled on touch devices (mainly because of swipe transition)\n        //\n        // 3. Progressive image loading sometimes doesn't work in IE (up to 11).\n\n        // Don't allow progressive loading on non-large touch devices\n        return _options.forceProgressiveLoading || !_likelyTouchDevice || _options.mouseUsed || screen.width > 1200;\n        // 1200 - to eliminate touch devices with large screen (like Chromebook Pixel)\n      },\n\n      setContent: function(holder, index) {\n\n        if(_options.loop) {\n          index = _getLoopedId(index);\n        }\n\n        var prevItem = self.getItemAt(holder.index);\n        if(prevItem) {\n          prevItem.container = null;\n        }\n\n        var item = self.getItemAt(index),\n          img;\n\n        if(!item) {\n          holder.el.innerHTML = '';\n          return;\n        }\n\n        // allow to override data\n        _shout('gettingData', index, item);\n\n        holder.index = index;\n        holder.item = item;\n\n        // base container DIV is created only once for each of 3 holders\n        var baseDiv = item.container = framework.createEl('pswp__zoom-wrap');\n\n\n\n        if(!item.src && item.html) {\n          if(item.html.tagName) {\n            baseDiv.appendChild(item.html);\n          } else {\n            baseDiv.innerHTML = item.html;\n          }\n        }\n\n        _checkForError(item);\n\n        _calculateItemSize(item, _viewportSize);\n\n        if(item.src && !item.loadError && !item.loaded) {\n\n          item.loadComplete = function(item) {\n\n            // gallery closed before image finished loading\n            if(!_isOpen) {\n              return;\n            }\n\n            // check if holder hasn't changed while image was loading\n            if(holder && holder.index === index ) {\n              if( _checkForError(item, true) ) {\n                item.loadComplete = item.img = null;\n                _calculateItemSize(item, _viewportSize);\n                _applyZoomPanToItem(item);\n\n                if(holder.index === _currentItemIndex) {\n                  // recalculate dimensions\n                  self.updateCurrZoomItem();\n                }\n                return;\n              }\n              if( !item.imageAppended ) {\n                if(_features.transform && (_mainScrollAnimating || _initialZoomRunning) ) {\n                  _imagesToAppendPool.push({\n                    item:item,\n                    baseDiv:baseDiv,\n                    img:item.img,\n                    index:index,\n                    holder:holder,\n                    clearPlaceholder:true\n                  });\n                } else {\n                  _appendImage(index, item, baseDiv, item.img, _mainScrollAnimating || _initialZoomRunning, true);\n                }\n              } else {\n                // remove preloader & mini-img\n                if(!_initialZoomRunning && item.placeholder) {\n                  item.placeholder.style.display = 'none';\n                  item.placeholder = null;\n                }\n              }\n            }\n\n            item.loadComplete = null;\n            item.img = null; // no need to store image element after it's added\n\n            _shout('imageLoadComplete', index, item);\n          };\n\n          if(framework.features.transform) {\n\n            var placeholderClassName = 'pswp__img pswp__img--placeholder';\n            placeholderClassName += (item.msrc ? '' : ' pswp__img--placeholder--blank');\n\n            var placeholder = framework.createEl(placeholderClassName, item.msrc ? 'img' : '');\n            if(item.msrc) {\n              placeholder.src = item.msrc;\n            }\n\n            _setImageSize(item, placeholder);\n\n            baseDiv.appendChild(placeholder);\n            item.placeholder = placeholder;\n\n          }\n\n\n\n\n          if(!item.loading) {\n            _preloadImage(item);\n          }\n\n\n          if( self.allowProgressiveImg() ) {\n            // just append image\n            if(!_initialContentSet && _features.transform) {\n              _imagesToAppendPool.push({\n                item:item,\n                baseDiv:baseDiv,\n                img:item.img,\n                index:index,\n                holder:holder\n              });\n            } else {\n              _appendImage(index, item, baseDiv, item.img, true, true);\n            }\n          }\n\n        } else if(item.src && !item.loadError) {\n          // image object is created every time, due to bugs of image loading & delay when switching images\n          img = framework.createEl('pswp__img', 'img');\n          img.style.opacity = 1;\n          img.src = item.src;\n          _setImageSize(item, img);\n          _appendImage(index, item, baseDiv, img, true);\n        }\n\n\n        if(!_initialContentSet && index === _currentItemIndex) {\n          _currZoomElementStyle = baseDiv.style;\n          _showOrHide(item, (img ||item.img) );\n        } else {\n          _applyZoomPanToItem(item);\n        }\n\n        holder.el.innerHTML = '';\n        holder.el.appendChild(baseDiv);\n      },\n\n      cleanSlide: function( item ) {\n        if(item.img ) {\n          item.img.onload = item.img.onerror = null;\n        }\n        item.loaded = item.loading = item.img = item.imageAppended = false;\n      }\n\n    }\n  });\n\n  /*>>items-controller*/\n\n  /*>>tap*/\n  /**\n   * tap.js:\n   *\n   * Displatches tap and double-tap events.\n   *\n   */\n\n  var tapTimer,\n    tapReleasePoint = {},\n    _dispatchTapEvent = function(origEvent, releasePoint, pointerType) {\n      var e = document.createEvent( 'CustomEvent' ),\n        eDetail = {\n          origEvent:origEvent,\n          target:origEvent.target,\n          releasePoint: releasePoint,\n          pointerType:pointerType || 'touch'\n        };\n\n      e.initCustomEvent( 'pswpTap', true, true, eDetail );\n      origEvent.target.dispatchEvent(e);\n    };\n\n  _registerModule('Tap', {\n    publicMethods: {\n      initTap: function() {\n        _listen('firstTouchStart', self.onTapStart);\n        _listen('touchRelease', self.onTapRelease);\n        _listen('destroy', function() {\n          tapReleasePoint = {};\n          tapTimer = null;\n        });\n      },\n      onTapStart: function(touchList) {\n        if(touchList.length > 1) {\n          clearTimeout(tapTimer);\n          tapTimer = null;\n        }\n      },\n      onTapRelease: function(e, releasePoint) {\n        if(!releasePoint) {\n          return;\n        }\n\n        if(!_moved && !_isMultitouch && !_numAnimations) {\n          var p0 = releasePoint;\n          if(tapTimer) {\n            clearTimeout(tapTimer);\n            tapTimer = null;\n\n            // Check if taped on the same place\n            if ( _isNearbyPoints(p0, tapReleasePoint) ) {\n              _shout('doubleTap', p0);\n              return;\n            }\n          }\n\n          if(releasePoint.type === 'mouse') {\n            _dispatchTapEvent(e, releasePoint, 'mouse');\n            return;\n          }\n\n          var clickedTagName = e.target.tagName.toUpperCase();\n          // avoid double tap delay on buttons and elements that have class pswp__single-tap\n          if(clickedTagName === 'BUTTON' || framework.hasClass(e.target, 'pswp__single-tap') ) {\n            _dispatchTapEvent(e, releasePoint);\n            return;\n          }\n\n          _equalizePoints(tapReleasePoint, p0);\n\n          tapTimer = setTimeout(function() {\n            _dispatchTapEvent(e, releasePoint);\n            tapTimer = null;\n          }, 300);\n        }\n      }\n    }\n  });\n\n  /*>>tap*/\n\n  /*>>desktop-zoom*/\n  /**\n   *\n   * desktop-zoom.js:\n   *\n   * - Binds mousewheel event for paning zoomed image.\n   * - Manages \"dragging\", \"zoomed-in\", \"zoom-out\" classes.\n   *   (which are used for cursors and zoom icon)\n   * - Adds toggleDesktopZoom function.\n   *\n   */\n\n  var _wheelDelta;\n\n  _registerModule('DesktopZoom', {\n\n    publicMethods: {\n\n      initDesktopZoom: function() {\n\n        if(_oldIE) {\n          // no zoom for old IE (<=8)\n          return;\n        }\n\n        if(_likelyTouchDevice) {\n          // if detected hardware touch support, we wait until mouse is used,\n          // and only then apply desktop-zoom features\n          _listen('mouseUsed', function() {\n            self.setupDesktopZoom();\n          });\n        } else {\n          self.setupDesktopZoom(true);\n        }\n\n      },\n\n      setupDesktopZoom: function(onInit) {\n\n        _wheelDelta = {};\n\n        var events = 'wheel mousewheel DOMMouseScroll';\n\n        _listen('bindEvents', function() {\n          framework.bind(template, events,  self.handleMouseWheel);\n        });\n\n        _listen('unbindEvents', function() {\n          if(_wheelDelta) {\n            framework.unbind(template, events, self.handleMouseWheel);\n          }\n        });\n\n        self.mouseZoomedIn = false;\n\n        var hasDraggingClass,\n          updateZoomable = function() {\n            if(self.mouseZoomedIn) {\n              framework.removeClass(template, 'pswp--zoomed-in');\n              self.mouseZoomedIn = false;\n            }\n            if(_currZoomLevel < 1) {\n              framework.addClass(template, 'pswp--zoom-allowed');\n            } else {\n              framework.removeClass(template, 'pswp--zoom-allowed');\n            }\n            removeDraggingClass();\n          },\n          removeDraggingClass = function() {\n            if(hasDraggingClass) {\n              framework.removeClass(template, 'pswp--dragging');\n              hasDraggingClass = false;\n            }\n          };\n\n        _listen('resize' , updateZoomable);\n        _listen('afterChange' , updateZoomable);\n        _listen('pointerDown', function() {\n          if(self.mouseZoomedIn) {\n            hasDraggingClass = true;\n            framework.addClass(template, 'pswp--dragging');\n          }\n        });\n        _listen('pointerUp', removeDraggingClass);\n\n        if(!onInit) {\n          updateZoomable();\n        }\n\n      },\n\n      handleMouseWheel: function(e) {\n\n        if(_currZoomLevel <= self.currItem.fitRatio) {\n          if( _options.modal ) {\n\n            if (!_options.closeOnScroll || _numAnimations || _isDragging) {\n              e.preventDefault();\n            } else if(_transformKey && Math.abs(e.deltaY) > 2) {\n              // close PhotoSwipe\n              // if browser supports transforms & scroll changed enough\n              _closedByScroll = true;\n              self.close();\n            }\n\n          }\n          return true;\n        }\n\n        // allow just one event to fire\n        e.stopPropagation();\n\n        // https://developer.mozilla.org/en-US/docs/Web/Events/wheel\n        _wheelDelta.x = 0;\n\n        if('deltaX' in e) {\n          if(e.deltaMode === 1 /* DOM_DELTA_LINE */) {\n            // 18 - average line height\n            _wheelDelta.x = e.deltaX * 18;\n            _wheelDelta.y = e.deltaY * 18;\n          } else {\n            _wheelDelta.x = e.deltaX;\n            _wheelDelta.y = e.deltaY;\n          }\n        } else if('wheelDelta' in e) {\n          if(e.wheelDeltaX) {\n            _wheelDelta.x = -0.16 * e.wheelDeltaX;\n          }\n          if(e.wheelDeltaY) {\n            _wheelDelta.y = -0.16 * e.wheelDeltaY;\n          } else {\n            _wheelDelta.y = -0.16 * e.wheelDelta;\n          }\n        } else if('detail' in e) {\n          _wheelDelta.y = e.detail;\n        } else {\n          return;\n        }\n\n        _calculatePanBounds(_currZoomLevel, true);\n\n        var newPanX = _panOffset.x - _wheelDelta.x,\n          newPanY = _panOffset.y - _wheelDelta.y;\n\n        // only prevent scrolling in nonmodal mode when not at edges\n        if (_options.modal ||\n          (\n            newPanX <= _currPanBounds.min.x && newPanX >= _currPanBounds.max.x &&\n            newPanY <= _currPanBounds.min.y && newPanY >= _currPanBounds.max.y\n          ) ) {\n          e.preventDefault();\n        }\n\n        // TODO: use rAF instead of mousewheel?\n        self.panTo(newPanX, newPanY);\n      },\n\n      toggleDesktopZoom: function(centerPoint) {\n        centerPoint = centerPoint || {x:_viewportSize.x/2 + _offset.x, y:_viewportSize.y/2 + _offset.y };\n\n        var doubleTapZoomLevel = _options.getDoubleTapZoom(true, self.currItem);\n        var zoomOut = _currZoomLevel === doubleTapZoomLevel;\n\n        self.mouseZoomedIn = !zoomOut;\n\n        self.zoomTo(zoomOut ? self.currItem.initialZoomLevel : doubleTapZoomLevel, centerPoint, 333);\n        framework[ (!zoomOut ? 'add' : 'remove') + 'Class'](template, 'pswp--zoomed-in');\n      }\n\n    }\n  });\n\n\n  /*>>desktop-zoom*/\n\n  /*>>history*/\n  /**\n   *\n   * history.js:\n   *\n   * - Back button to close gallery.\n   *\n   * - Unique URL for each slide: example.com/&pid=1&gid=3\n   *   (where PID is picture index, and GID and gallery index)\n   *\n   * - Switch URL when slides change.\n   *\n   */\n\n\n  var _historyDefaultOptions = {\n    history: true,\n    galleryUID: 1\n  };\n\n  var _historyUpdateTimeout,\n    _hashChangeTimeout,\n    _hashAnimCheckTimeout,\n    _hashChangedByScript,\n    _hashChangedByHistory,\n    _hashReseted,\n    _initialHash,\n    _historyChanged,\n    _closedFromURL,\n    _urlChangedOnce,\n    _windowLoc,\n\n    _supportsPushState,\n\n    _getHash = function() {\n      return _windowLoc.hash.substring(1);\n    },\n    _cleanHistoryTimeouts = function() {\n\n      if(_historyUpdateTimeout) {\n        clearTimeout(_historyUpdateTimeout);\n      }\n\n      if(_hashAnimCheckTimeout) {\n        clearTimeout(_hashAnimCheckTimeout);\n      }\n    },\n\n    // pid - Picture index\n    // gid - Gallery index\n    _parseItemIndexFromURL = function() {\n      var hash = _getHash(),\n        params = {};\n\n      if(hash.length < 5) { // pid=1\n        return params;\n      }\n\n      var i, vars = hash.split('&');\n      for (i = 0; i < vars.length; i++) {\n        if(!vars[i]) {\n          continue;\n        }\n        var pair = vars[i].split('=');\n        if(pair.length < 2) {\n          continue;\n        }\n        params[pair[0]] = pair[1];\n      }\n      if(_options.galleryPIDs) {\n        // detect custom pid in hash and search for it among the items collection\n        var searchfor = params.pid;\n        params.pid = 0; // if custom pid cannot be found, fallback to the first item\n        for(i = 0; i < _items.length; i++) {\n          if(_items[i].pid === searchfor) {\n            params.pid = i;\n            break;\n          }\n        }\n      } else {\n        params.pid = parseInt(params.pid,10)-1;\n      }\n      if( params.pid < 0 ) {\n        params.pid = 0;\n      }\n      return params;\n    },\n    _updateHash = function() {\n\n      if(_hashAnimCheckTimeout) {\n        clearTimeout(_hashAnimCheckTimeout);\n      }\n\n\n      if(_numAnimations || _isDragging) {\n        // changing browser URL forces layout/paint in some browsers, which causes noticable lag during animation\n        // that's why we update hash only when no animations running\n        _hashAnimCheckTimeout = setTimeout(_updateHash, 500);\n        return;\n      }\n\n      if(_hashChangedByScript) {\n        clearTimeout(_hashChangeTimeout);\n      } else {\n        _hashChangedByScript = true;\n      }\n\n\n      var pid = (_currentItemIndex + 1);\n      var item = _getItemAt( _currentItemIndex );\n      if(item.hasOwnProperty('pid')) {\n        // carry forward any custom pid assigned to the item\n        pid = item.pid;\n      }\n      var newHash = _initialHash + '&'  +  'gid=' + _options.galleryUID + '&' + 'pid=' + pid;\n\n      if(!_historyChanged) {\n        if(_windowLoc.hash.indexOf(newHash) === -1) {\n          _urlChangedOnce = true;\n        }\n        // first time - add new hisory record, then just replace\n      }\n\n      var newURL = _windowLoc.href.split('#')[0] + '#' +  newHash;\n\n      if( _supportsPushState ) {\n\n        if('#' + newHash !== window.location.hash) {\n          history[_historyChanged ? 'replaceState' : 'pushState']('', document.title, newURL);\n        }\n\n      } else {\n        if(_historyChanged) {\n          _windowLoc.replace( newURL );\n        } else {\n          _windowLoc.hash = newHash;\n        }\n      }\n\n\n\n      _historyChanged = true;\n      _hashChangeTimeout = setTimeout(function() {\n        _hashChangedByScript = false;\n      }, 60);\n    };\n\n\n\n\n\n  _registerModule('History', {\n\n\n\n    publicMethods: {\n      initHistory: function() {\n\n        framework.extend(_options, _historyDefaultOptions, true);\n\n        if( !_options.history ) {\n          return;\n        }\n\n\n        _windowLoc = window.location;\n        _urlChangedOnce = false;\n        _closedFromURL = false;\n        _historyChanged = false;\n        _initialHash = _getHash();\n        _supportsPushState = ('pushState' in history);\n\n\n        if(_initialHash.indexOf('gid=') > -1) {\n          _initialHash = _initialHash.split('&gid=')[0];\n          _initialHash = _initialHash.split('?gid=')[0];\n        }\n\n\n        _listen('afterChange', self.updateURL);\n        _listen('unbindEvents', function() {\n          framework.unbind(window, 'hashchange', self.onHashChange);\n        });\n\n\n        var returnToOriginal = function() {\n          _hashReseted = true;\n          if(!_closedFromURL) {\n\n            if(_urlChangedOnce) {\n              history.back();\n            } else {\n\n              if(_initialHash) {\n                _windowLoc.hash = _initialHash;\n              } else {\n                if (_supportsPushState) {\n\n                  // remove hash from url without refreshing it or scrolling to top\n                  history.pushState('', document.title,  _windowLoc.pathname + _windowLoc.search );\n                } else {\n                  _windowLoc.hash = '';\n                }\n              }\n            }\n\n          }\n\n          _cleanHistoryTimeouts();\n        };\n\n\n        _listen('unbindEvents', function() {\n          if(_closedByScroll) {\n            // if PhotoSwipe is closed by scroll, we go \"back\" before the closing animation starts\n            // this is done to keep the scroll position\n            returnToOriginal();\n          }\n        });\n        _listen('destroy', function() {\n          if(!_hashReseted) {\n            returnToOriginal();\n          }\n        });\n        _listen('firstUpdate', function() {\n          _currentItemIndex = _parseItemIndexFromURL().pid;\n        });\n\n\n\n\n        var index = _initialHash.indexOf('pid=');\n        if(index > -1) {\n          _initialHash = _initialHash.substring(0, index);\n          if(_initialHash.slice(-1) === '&') {\n            _initialHash = _initialHash.slice(0, -1);\n          }\n        }\n\n\n        setTimeout(function() {\n          if(_isOpen) { // hasn't destroyed yet\n            framework.bind(window, 'hashchange', self.onHashChange);\n          }\n        }, 40);\n\n      },\n      onHashChange: function() {\n\n        if(_getHash() === _initialHash) {\n\n          _closedFromURL = true;\n          self.close();\n          return;\n        }\n        if(!_hashChangedByScript) {\n\n          _hashChangedByHistory = true;\n          self.goTo( _parseItemIndexFromURL().pid );\n          _hashChangedByHistory = false;\n        }\n\n      },\n      updateURL: function() {\n\n        // Delay the update of URL, to avoid lag during transition,\n        // and to not to trigger actions like \"refresh page sound\" or \"blinking favicon\" to often\n\n        _cleanHistoryTimeouts();\n\n\n        if(_hashChangedByHistory) {\n          return;\n        }\n\n        if(!_historyChanged) {\n          _updateHash(); // first time\n        } else {\n          _historyUpdateTimeout = setTimeout(_updateHash, 800);\n        }\n      }\n\n    }\n  });\n\n\n  /*>>history*/\n  framework.extend(self, publicMethods); };\nexport default PhotoSwipe;\n\n\n\n// WEBPACK FOOTER //\n// ./src/photo-swipe/photoswipe.js","'use strict';\n\n\n\nvar PhotoSwipeUI_Default =\n  function(pswp, framework) {\n\n    var ui = this;\n    var _overlayUIUpdated = false,\n      _controlsVisible = true,\n      _fullscrenAPI,\n      _controls,\n      _captionContainer,\n      _fakeCaptionContainer,\n      _indexIndicator,\n      _shareButton,\n      _shareModal,\n      _shareModalHidden = true,\n      _initalCloseOnScrollValue,\n      _isIdle,\n      _listen,\n\n      _loadingIndicator,\n      _loadingIndicatorHidden,\n      _loadingIndicatorTimeout,\n\n      _galleryHasOneSlide,\n\n      _options,\n      _defaultUIOptions = {\n        barsSize: {top:44, bottom:'auto'},\n        closeElClasses: ['item', 'caption', 'zoom-wrap', 'ui', 'top-bar'],\n        timeToIdle: 4000,\n        timeToIdleOutside: 1000,\n        loadingIndicatorDelay: 1000, // 2s\n\n        addCaptionHTMLFn: function(item, captionEl /*, isFake */) {\n          if(!item.title) {\n            captionEl.children[0].innerHTML = '';\n            return false;\n          }\n          captionEl.children[0].innerHTML = item.title;\n          return true;\n        },\n\n        closeEl:true,\n        captionEl: true,\n        fullscreenEl: true,\n        zoomEl: true,\n        shareEl: true,\n        counterEl: true,\n        arrowEl: true,\n        preloaderEl: true,\n\n        tapToClose: false,\n        tapToToggleControls: true,\n\n        clickToCloseNonZoomable: true,\n\n        shareButtons: [\n          {id:'facebook', label:'Share on Facebook', url:'https://www.facebook.com/sharer/sharer.php?u={{url}}'},\n          {id:'twitter', label:'Tweet', url:'https://twitter.com/intent/tweet?text={{text}}&url={{url}}'},\n          {id:'pinterest', label:'Pin it', url:'http://www.pinterest.com/pin/create/button/'+\n          '?url={{url}}&media={{image_url}}&description={{text}}'},\n          {id:'download', label:'Download image', url:'{{raw_image_url}}', download:true}\n        ],\n        getImageURLForShare: function( /* shareButtonData */ ) {\n          return pswp.currItem.src || '';\n        },\n        getPageURLForShare: function( /* shareButtonData */ ) {\n          return window.location.href;\n        },\n        getTextForShare: function( /* shareButtonData */ ) {\n          return pswp.currItem.title || '';\n        },\n\n        indexIndicatorSep: ' / ',\n        fitControlsWidth: 1200\n\n      },\n      _blockControlsTap,\n      _blockControlsTapTimeout;\n\n\n\n    var _onControlsTap = function(e) {\n        if(_blockControlsTap) {\n          return true;\n        }\n\n\n        e = e || window.event;\n\n        if(_options.timeToIdle && _options.mouseUsed && !_isIdle) {\n          // reset idle timer\n          _onIdleMouseMove();\n        }\n\n\n        var target = e.target || e.srcElement,\n          uiElement,\n          clickedClass = target.getAttribute('class') || '',\n          found;\n\n        for(var i = 0; i < _uiElements.length; i++) {\n          uiElement = _uiElements[i];\n          if(uiElement.onTap && clickedClass.indexOf('pswp__' + uiElement.name ) > -1 ) {\n            uiElement.onTap();\n            found = true;\n\n          }\n        }\n\n        if(found) {\n          if(e.stopPropagation) {\n            e.stopPropagation();\n          }\n          _blockControlsTap = true;\n\n          // Some versions of Android don't prevent ghost click event\n          // when preventDefault() was called on touchstart and/or touchend.\n          //\n          // This happens on v4.3, 4.2, 4.1,\n          // older versions strangely work correctly,\n          // but just in case we add delay on all of them)\n          var tapDelay = framework.features.isOldAndroid ? 600 : 30;\n          _blockControlsTapTimeout = setTimeout(function() {\n            _blockControlsTap = false;\n          }, tapDelay);\n        }\n\n      },\n      _fitControlsInViewport = function() {\n        return !pswp.likelyTouchDevice || _options.mouseUsed || screen.width > _options.fitControlsWidth;\n      },\n      _togglePswpClass = function(el, cName, add) {\n        framework[ (add ? 'add' : 'remove') + 'Class' ](el, 'pswp__' + cName);\n      },\n\n      // add class when there is just one item in the gallery\n      // (by default it hides left/right arrows and 1ofX counter)\n      _countNumItems = function() {\n        var hasOneSlide = (_options.getNumItemsFn() === 1);\n\n        if(hasOneSlide !== _galleryHasOneSlide) {\n          _togglePswpClass(_controls, 'ui--one-slide', hasOneSlide);\n          _galleryHasOneSlide = hasOneSlide;\n        }\n      },\n      _toggleShareModalClass = function() {\n        _togglePswpClass(_shareModal, 'share-modal--hidden', _shareModalHidden);\n      },\n      _toggleShareModal = function() {\n\n        _shareModalHidden = !_shareModalHidden;\n\n\n        if(!_shareModalHidden) {\n          _toggleShareModalClass();\n          setTimeout(function() {\n            if(!_shareModalHidden) {\n              framework.addClass(_shareModal, 'pswp__share-modal--fade-in');\n            }\n          }, 30);\n        } else {\n          framework.removeClass(_shareModal, 'pswp__share-modal--fade-in');\n          setTimeout(function() {\n            if(_shareModalHidden) {\n              _toggleShareModalClass();\n            }\n          }, 300);\n        }\n\n        if(!_shareModalHidden) {\n          _updateShareURLs();\n        }\n        return false;\n      },\n\n      _openWindowPopup = function(e) {\n        e = e || window.event;\n        var target = e.target || e.srcElement;\n\n        pswp.shout('shareLinkClick', e, target);\n\n        if(!target.href) {\n          return false;\n        }\n\n        if( target.hasAttribute('download') ) {\n          return true;\n        }\n\n        window.open(target.href, 'pswp_share', 'scrollbars=yes,resizable=yes,toolbar=no,'+\n          'location=yes,width=550,height=420,top=100,left=' +\n          (window.screen ? Math.round(screen.width / 2 - 275) : 100)  );\n\n        if(!_shareModalHidden) {\n          _toggleShareModal();\n        }\n\n        return false;\n      },\n      _updateShareURLs = function() {\n        var shareButtonOut = '',\n          shareButtonData,\n          shareURL,\n          image_url,\n          page_url,\n          share_text;\n\n        for(var i = 0; i < _options.shareButtons.length; i++) {\n          shareButtonData = _options.shareButtons[i];\n\n          image_url = _options.getImageURLForShare(shareButtonData);\n          page_url = _options.getPageURLForShare(shareButtonData);\n          share_text = _options.getTextForShare(shareButtonData);\n\n          shareURL = shareButtonData.url.replace('{{url}}', encodeURIComponent(page_url) )\n            .replace('{{image_url}}', encodeURIComponent(image_url) )\n            .replace('{{raw_image_url}}', image_url )\n            .replace('{{text}}', encodeURIComponent(share_text) );\n\n          shareButtonOut += '<a href=\"' + shareURL + '\" target=\"_blank\" '+\n            'class=\"pswp__share--' + shareButtonData.id + '\"' +\n            (shareButtonData.download ? 'download' : '') + '>' +\n            shareButtonData.label + '</a>';\n\n          if(_options.parseShareButtonOut) {\n            shareButtonOut = _options.parseShareButtonOut(shareButtonData, shareButtonOut);\n          }\n        }\n        _shareModal.children[0].innerHTML = shareButtonOut;\n        _shareModal.children[0].onclick = _openWindowPopup;\n\n      },\n      _hasCloseClass = function(target) {\n        for(var  i = 0; i < _options.closeElClasses.length; i++) {\n          if( framework.hasClass(target, 'pswp__' + _options.closeElClasses[i]) ) {\n            return true;\n          }\n        }\n      },\n      _idleInterval,\n      _idleTimer,\n      _idleIncrement = 0,\n      _onIdleMouseMove = function() {\n        clearTimeout(_idleTimer);\n        _idleIncrement = 0;\n        if(_isIdle) {\n          ui.setIdle(false);\n        }\n      },\n      _onMouseLeaveWindow = function(e) {\n        e = e ? e : window.event;\n        var from = e.relatedTarget || e.toElement;\n        if (!from || from.nodeName === 'HTML') {\n          clearTimeout(_idleTimer);\n          _idleTimer = setTimeout(function() {\n            ui.setIdle(true);\n          }, _options.timeToIdleOutside);\n        }\n      },\n      _setupFullscreenAPI = function() {\n        if(_options.fullscreenEl && !framework.features.isOldAndroid) {\n          if(!_fullscrenAPI) {\n            _fullscrenAPI = ui.getFullscreenAPI();\n          }\n          if(_fullscrenAPI) {\n            framework.bind(document, _fullscrenAPI.eventK, ui.updateFullscreen);\n            ui.updateFullscreen();\n            framework.addClass(pswp.template, 'pswp--supports-fs');\n          } else {\n            framework.removeClass(pswp.template, 'pswp--supports-fs');\n          }\n        }\n      },\n      _setupLoadingIndicator = function() {\n        // Setup loading indicator\n        if(_options.preloaderEl) {\n\n          _toggleLoadingIndicator(true);\n\n          _listen('beforeChange', function() {\n\n            clearTimeout(_loadingIndicatorTimeout);\n\n            // display loading indicator with delay\n            _loadingIndicatorTimeout = setTimeout(function() {\n\n              if(pswp.currItem && pswp.currItem.loading) {\n\n                if( !pswp.allowProgressiveImg() || (pswp.currItem.img && !pswp.currItem.img.naturalWidth)  ) {\n                  // show preloader if progressive loading is not enabled,\n                  // or image width is not defined yet (because of slow connection)\n                  _toggleLoadingIndicator(false);\n                  // items-controller.js function allowProgressiveImg\n                }\n\n              } else {\n                _toggleLoadingIndicator(true); // hide preloader\n              }\n\n            }, _options.loadingIndicatorDelay);\n\n          });\n          _listen('imageLoadComplete', function(index, item) {\n            if(pswp.currItem === item) {\n              _toggleLoadingIndicator(true);\n            }\n          });\n\n        }\n      },\n      _toggleLoadingIndicator = function(hide) {\n        if( _loadingIndicatorHidden !== hide ) {\n          _togglePswpClass(_loadingIndicator, 'preloader--active', !hide);\n          _loadingIndicatorHidden = hide;\n        }\n      },\n      _applyNavBarGaps = function(item) {\n        var gap = item.vGap;\n\n        if( _fitControlsInViewport() ) {\n\n          var bars = _options.barsSize;\n          if(_options.captionEl && bars.bottom === 'auto') {\n            if(!_fakeCaptionContainer) {\n              _fakeCaptionContainer = framework.createEl('pswp__caption pswp__caption--fake');\n              _fakeCaptionContainer.appendChild( framework.createEl('pswp__caption__center') );\n              _controls.insertBefore(_fakeCaptionContainer, _captionContainer);\n              framework.addClass(_controls, 'pswp__ui--fit');\n            }\n            if( _options.addCaptionHTMLFn(item, _fakeCaptionContainer, true) ) {\n\n              var captionSize = _fakeCaptionContainer.clientHeight;\n              gap.bottom = parseInt(captionSize,10) || 44;\n            } else {\n              gap.bottom = bars.top; // if no caption, set size of bottom gap to size of top\n            }\n          } else {\n            gap.bottom = bars.bottom === 'auto' ? 0 : bars.bottom;\n          }\n\n          // height of top bar is static, no need to calculate it\n          gap.top = bars.top;\n        } else {\n          gap.top = gap.bottom = 0;\n        }\n      },\n      _setupIdle = function() {\n        // Hide controls when mouse is used\n        if(_options.timeToIdle) {\n          _listen('mouseUsed', function() {\n\n            framework.bind(document, 'mousemove', _onIdleMouseMove);\n            framework.bind(document, 'mouseout', _onMouseLeaveWindow);\n\n            _idleInterval = setInterval(function() {\n              _idleIncrement++;\n              if(_idleIncrement === 2) {\n                ui.setIdle(true);\n              }\n            }, _options.timeToIdle / 2);\n          });\n        }\n      },\n      _setupHidingControlsDuringGestures = function() {\n\n        // Hide controls on vertical drag\n        _listen('onVerticalDrag', function(now) {\n          if(_controlsVisible && now < 0.95) {\n            ui.hideControls();\n          } else if(!_controlsVisible && now >= 0.95) {\n            ui.showControls();\n          }\n        });\n\n        // Hide controls when pinching to close\n        var pinchControlsHidden;\n        _listen('onPinchClose' , function(now) {\n          if(_controlsVisible && now < 0.9) {\n            ui.hideControls();\n            pinchControlsHidden = true;\n          } else if(pinchControlsHidden && !_controlsVisible && now > 0.9) {\n            ui.showControls();\n          }\n        });\n\n        _listen('zoomGestureEnded', function() {\n          pinchControlsHidden = false;\n          if(pinchControlsHidden && !_controlsVisible) {\n            ui.showControls();\n          }\n        });\n\n      };\n\n\n\n    var _uiElements = [\n      {\n        name: 'caption',\n        option: 'captionEl',\n        onInit: function(el) {\n          _captionContainer = el;\n        }\n      },\n      {\n        name: 'share-modal',\n        option: 'shareEl',\n        onInit: function(el) {\n          _shareModal = el;\n        },\n        onTap: function() {\n          _toggleShareModal();\n        }\n      },\n      {\n        name: 'button--share',\n        option: 'shareEl',\n        onInit: function(el) {\n          _shareButton = el;\n        },\n        onTap: function() {\n          _toggleShareModal();\n        }\n      },\n      {\n        name: 'button--zoom',\n        option: 'zoomEl',\n        onTap: pswp.toggleDesktopZoom\n      },\n      {\n        name: 'counter',\n        option: 'counterEl',\n        onInit: function(el) {\n          _indexIndicator = el;\n        }\n      },\n      {\n        name: 'button--close',\n        option: 'closeEl',\n        onTap: pswp.close\n      },\n      {\n        name: 'button--arrow--left',\n        option: 'arrowEl',\n        onTap: pswp.prev\n      },\n      {\n        name: 'button--arrow--right',\n        option: 'arrowEl',\n        onTap: pswp.next\n      },\n      {\n        name: 'button--fs',\n        option: 'fullscreenEl',\n        onTap: function() {\n          if(_fullscrenAPI.isFullscreen()) {\n            _fullscrenAPI.exit();\n          } else {\n            _fullscrenAPI.enter();\n          }\n        }\n      },\n      {\n        name: 'preloader',\n        option: 'preloaderEl',\n        onInit: function(el) {\n          _loadingIndicator = el;\n        }\n      }\n\n    ];\n\n    var _setupUIElements = function() {\n      var item,\n        classAttr,\n        uiElement;\n\n      var loopThroughChildElements = function(sChildren) {\n        if(!sChildren) {\n          return;\n        }\n\n        var l = sChildren.length;\n        for(var i = 0; i < l; i++) {\n          item = sChildren[i];\n          classAttr = item.className;\n\n          for(var a = 0; a < _uiElements.length; a++) {\n            uiElement = _uiElements[a];\n\n            if(classAttr.indexOf('pswp__' + uiElement.name) > -1  ) {\n\n              if( _options[uiElement.option] ) { // if element is not disabled from options\n\n                framework.removeClass(item, 'pswp__element--disabled');\n                if(uiElement.onInit) {\n                  uiElement.onInit(item);\n                }\n\n                //item.style.display = 'block';\n              } else {\n                framework.addClass(item, 'pswp__element--disabled');\n                //item.style.display = 'none';\n              }\n            }\n          }\n        }\n      };\n      loopThroughChildElements(_controls.children);\n\n      var topBar =  framework.getChildByClass(_controls, 'pswp__top-bar');\n      if(topBar) {\n        loopThroughChildElements( topBar.children );\n      }\n    };\n\n\n\n\n    ui.init = function() {\n\n      // extend options\n      framework.extend(pswp.options, _defaultUIOptions, true);\n\n      // create local link for fast access\n      _options = pswp.options;\n\n      // find pswp__ui element\n      _controls = framework.getChildByClass(pswp.scrollWrap, 'pswp__ui');\n\n      // create local link\n      _listen = pswp.listen;\n\n\n      _setupHidingControlsDuringGestures();\n\n      // update controls when slides change\n      _listen('beforeChange', ui.update);\n\n      // toggle zoom on double-tap\n      _listen('doubleTap', function(point) {\n        var initialZoomLevel = pswp.currItem.initialZoomLevel;\n        if(pswp.getZoomLevel() !== initialZoomLevel) {\n          pswp.zoomTo(initialZoomLevel, point, 333);\n        } else {\n          pswp.zoomTo(_options.getDoubleTapZoom(false, pswp.currItem), point, 333);\n        }\n      });\n\n      // Allow text selection in caption\n      _listen('preventDragEvent', function(e, isDown, preventObj) {\n        var t = e.target || e.srcElement;\n        if(\n          t &&\n          t.getAttribute('class') && e.type.indexOf('mouse') > -1 &&\n          ( t.getAttribute('class').indexOf('__caption') > 0 || (/(SMALL|STRONG|EM)/i).test(t.tagName) )\n        ) {\n          preventObj.prevent = false;\n        }\n      });\n\n      // bind events for UI\n      _listen('bindEvents', function() {\n        framework.bind(_controls, 'pswpTap click', _onControlsTap);\n        framework.bind(pswp.scrollWrap, 'pswpTap', ui.onGlobalTap);\n\n        if(!pswp.likelyTouchDevice) {\n          framework.bind(pswp.scrollWrap, 'mouseover', ui.onMouseOver);\n        }\n      });\n\n      // unbind events for UI\n      _listen('unbindEvents', function() {\n        if(!_shareModalHidden) {\n          _toggleShareModal();\n        }\n\n        if(_idleInterval) {\n          clearInterval(_idleInterval);\n        }\n        framework.unbind(document, 'mouseout', _onMouseLeaveWindow);\n        framework.unbind(document, 'mousemove', _onIdleMouseMove);\n        framework.unbind(_controls, 'pswpTap click', _onControlsTap);\n        framework.unbind(pswp.scrollWrap, 'pswpTap', ui.onGlobalTap);\n        framework.unbind(pswp.scrollWrap, 'mouseover', ui.onMouseOver);\n\n        if(_fullscrenAPI) {\n          framework.unbind(document, _fullscrenAPI.eventK, ui.updateFullscreen);\n          if(_fullscrenAPI.isFullscreen()) {\n            _options.hideAnimationDuration = 0;\n            _fullscrenAPI.exit();\n          }\n          _fullscrenAPI = null;\n        }\n      });\n\n\n      // clean up things when gallery is destroyed\n      _listen('destroy', function() {\n        if(_options.captionEl) {\n          if(_fakeCaptionContainer) {\n            _controls.removeChild(_fakeCaptionContainer);\n          }\n          framework.removeClass(_captionContainer, 'pswp__caption--empty');\n        }\n\n        if(_shareModal) {\n          _shareModal.children[0].onclick = null;\n        }\n        framework.removeClass(_controls, 'pswp__ui--over-close');\n        framework.addClass( _controls, 'pswp__ui--hidden');\n        ui.setIdle(false);\n      });\n\n\n      if(!_options.showAnimationDuration) {\n        framework.removeClass( _controls, 'pswp__ui--hidden');\n      }\n      _listen('initialZoomIn', function() {\n        if(_options.showAnimationDuration) {\n          framework.removeClass( _controls, 'pswp__ui--hidden');\n        }\n      });\n      _listen('initialZoomOut', function() {\n        framework.addClass( _controls, 'pswp__ui--hidden');\n      });\n\n      _listen('parseVerticalMargin', _applyNavBarGaps);\n\n      _setupUIElements();\n\n      if(_options.shareEl && _shareButton && _shareModal) {\n        _shareModalHidden = true;\n      }\n\n      _countNumItems();\n\n      _setupIdle();\n\n      _setupFullscreenAPI();\n\n      _setupLoadingIndicator();\n    };\n\n    ui.setIdle = function(isIdle) {\n      _isIdle = isIdle;\n      _togglePswpClass(_controls, 'ui--idle', isIdle);\n    };\n\n    ui.update = function() {\n      // Don't update UI if it's hidden\n      if(_controlsVisible && pswp.currItem) {\n\n        ui.updateIndexIndicator();\n\n        if(_options.captionEl) {\n          _options.addCaptionHTMLFn(pswp.currItem, _captionContainer);\n\n          _togglePswpClass(_captionContainer, 'caption--empty', !pswp.currItem.title);\n        }\n\n        _overlayUIUpdated = true;\n\n      } else {\n        _overlayUIUpdated = false;\n      }\n\n      if(!_shareModalHidden) {\n        _toggleShareModal();\n      }\n\n      _countNumItems();\n    };\n\n    ui.updateFullscreen = function(e) {\n\n      if(e) {\n        // some browsers change window scroll position during the fullscreen\n        // so PhotoSwipe updates it just in case\n        setTimeout(function() {\n          pswp.setScrollOffset( 0, framework.getScrollY() );\n        }, 50);\n      }\n\n      // toogle pswp--fs class on root element\n      framework[ (_fullscrenAPI.isFullscreen() ? 'add' : 'remove') + 'Class' ](pswp.template, 'pswp--fs');\n    };\n\n    ui.updateIndexIndicator = function() {\n      if(_options.counterEl) {\n        _indexIndicator.innerHTML = (pswp.getCurrentIndex()+1) +\n          _options.indexIndicatorSep +\n          _options.getNumItemsFn();\n      }\n    };\n\n    ui.onGlobalTap = function(e) {\n      e = e || window.event;\n      var target = e.target || e.srcElement;\n\n      if(_blockControlsTap) {\n        return;\n      }\n\n      if(e.detail && e.detail.pointerType === 'mouse') {\n\n        // close gallery if clicked outside of the image\n        if(_hasCloseClass(target)) {\n          pswp.close();\n          return;\n        }\n\n        if(framework.hasClass(target, 'pswp__img')) {\n          if(pswp.getZoomLevel() === 1 && pswp.getZoomLevel() <= pswp.currItem.fitRatio) {\n            if(_options.clickToCloseNonZoomable) {\n              pswp.close();\n            }\n          } else {\n            pswp.toggleDesktopZoom(e.detail.releasePoint);\n          }\n        }\n\n      } else {\n\n        // tap anywhere (except buttons) to toggle visibility of controls\n        if(_options.tapToToggleControls) {\n          if(_controlsVisible) {\n            ui.hideControls();\n          } else {\n            ui.showControls();\n          }\n        }\n\n        // tap to close gallery\n        if(_options.tapToClose && (framework.hasClass(target, 'pswp__img') || _hasCloseClass(target)) ) {\n          pswp.close();\n          return;\n        }\n\n      }\n    };\n    ui.onMouseOver = function(e) {\n      e = e || window.event;\n      var target = e.target || e.srcElement;\n\n      // add class when mouse is over an element that should close the gallery\n      _togglePswpClass(_controls, 'ui--over-close', _hasCloseClass(target));\n    };\n\n    ui.hideControls = function() {\n      framework.addClass(_controls,'pswp__ui--hidden');\n      _controlsVisible = false;\n    };\n\n    ui.showControls = function() {\n      _controlsVisible = true;\n      if(!_overlayUIUpdated) {\n        ui.update();\n      }\n      framework.removeClass(_controls,'pswp__ui--hidden');\n    };\n\n    ui.supportsFullscreen = function() {\n      var d = document;\n      return !!(d.exitFullscreen || d.mozCancelFullScreen || d.webkitExitFullscreen || d.msExitFullscreen);\n    };\n\n    ui.getFullscreenAPI = function() {\n      var dE = document.documentElement,\n        api,\n        tF = 'fullscreenchange';\n\n      if (dE.requestFullscreen) {\n        api = {\n          enterK: 'requestFullscreen',\n          exitK: 'exitFullscreen',\n          elementK: 'fullscreenElement',\n          eventK: tF\n        };\n\n      } else if(dE.mozRequestFullScreen ) {\n        api = {\n          enterK: 'mozRequestFullScreen',\n          exitK: 'mozCancelFullScreen',\n          elementK: 'mozFullScreenElement',\n          eventK: 'moz' + tF\n        };\n\n\n\n      } else if(dE.webkitRequestFullscreen) {\n        api = {\n          enterK: 'webkitRequestFullscreen',\n          exitK: 'webkitExitFullscreen',\n          elementK: 'webkitFullscreenElement',\n          eventK: 'webkit' + tF\n        };\n\n      } else if(dE.msRequestFullscreen) {\n        api = {\n          enterK: 'msRequestFullscreen',\n          exitK: 'msExitFullscreen',\n          elementK: 'msFullscreenElement',\n          eventK: 'MSFullscreenChange'\n        };\n      }\n\n      if(api) {\n        api.enter = function() {\n          // disable close-on-scroll in fullscreen\n          _initalCloseOnScrollValue = _options.closeOnScroll;\n          _options.closeOnScroll = false;\n\n          if(this.enterK === 'webkitRequestFullscreen') {\n            pswp.template[this.enterK]( Element.ALLOW_KEYBOARD_INPUT );\n          } else {\n            return pswp.template[this.enterK]();\n          }\n        };\n        api.exit = function() {\n          _options.closeOnScroll = _initalCloseOnScrollValue;\n\n          return document[this.exitK]();\n\n        };\n        api.isFullscreen = function() { return document[this.elementK]; };\n      }\n\n      return api;\n    };\n\n\n\n  };\nexport default PhotoSwipeUI_Default;\n\n\n\n// WEBPACK FOOTER //\n// ./src/photo-swipe/photoswipe-ui-default.js","import './photoswipe.css';\n\nimport './default-skin/default-skin.css';\n\nimport PhotoSwipe from './photoswipe';\n\nimport PhotoSwipeUI_Default from './photoswipe-ui-default';\n\n//Polyfill Object.assign\nif (typeof Object.assign != 'function') {\n  // Must be writable: true, enumerable: false, configurable: true\n  Object.defineProperty(Object, \"assign\", {\n    value: function assign(target, varArgs) { // .length of function is 2\n      'use strict';\n      if (target == null) { // TypeError if undefined or null\n        throw new TypeError('Cannot convert undefined or null to object');\n      }\n\n      var to = Object(target);\n\n      for (var index = 1; index < arguments.length; index++) {\n        var nextSource = arguments[index];\n\n        if (nextSource != null) { // Skip over if undefined or null\n          for (var nextKey in nextSource) {\n            // Avoid bugs when hasOwnProperty is shadowed\n            if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n              to[nextKey] = nextSource[nextKey];\n            }\n          }\n        }\n      }\n      return to;\n    },\n    writable: true,\n    configurable: true\n  });\n}\n\nconst PhotoSwipePlugin = {\n  install(Vue,options){\n    PhotoSwipe.UI = PhotoSwipeUI_Default;\n    PhotoSwipe.OPTIONS = this.options;\n    Vue.prototype.$PhotoSwipe = PhotoSwipe;\n  },\n  options:{\n    history : false\n  }\n};\n\nexport default PhotoSwipePlugin;\n\n\n\n// WEBPACK FOOTER //\n// ./src/photo-swipe/index.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2f20ffb1\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2f20ffb1\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2f20ffb1\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <div>\n    <router-view/>\n  </div>\n</template>\n\n<script>\n  export default {\n    name: 'App'\n  }\n</script>\n\n<style>\n\n  * {\n    box-sizing: border-box;\n  }\n\n  html, body {\n    background-color: #fafafa;\n    -webkit-overflow-scrolling: touch;\n    user-select: none;\n  }\n\n\n  a {\n    background-color: transparent;\n    -webkit-text-decoration-skip: objects;\n    text-decoration: none;\n    color: inherit;\n  }\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport router from './router'\nimport PhotoSwipe from './photo-swipe';\n\nimport App from './App'\n\nVue.use(PhotoSwipe);\n\nVue.config.productionTip = false;\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  components: { App },\n  template: '<App/>'\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}